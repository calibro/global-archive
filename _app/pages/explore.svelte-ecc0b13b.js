import{S as ae,i as ie,s as oe,ae as Te,a7 as ke,af as Ee,e as D,c as I,a as w,d as h,b as y,g as F,H as _,I as pe,J as Q,t as j,k as L,w as U,h as M,m as B,x as W,y as Z,ag as $e,q as R,o as H,B as x,L as X,ah as ot,ai as de,G as me,j as ee,X as ye,aj as dt,ak as _t,al as ct,n as se,p as ne,a8 as ft,ac as Fe,am as Le,a0 as _e,l as K,Y as ut,an as Be,ao as ht,ap as pt}from"../chunks/vendor-df57af0d.js";import{d as le,c as De,g as Ie,H as ge,s as vt,v as mt}from"../chunks/stores-122d3438.js";import{B as gt}from"../chunks/ImgBg-59b135f0.js";import{R as bt}from"../chunks/index-df7b2a45.js";import{b as kt}from"../chunks/paths-396f020f.js";import{c as ce}from"../chunks/singletons-d1fb5791.js";function He(a){let e,l,t,r;return{c(){e=D("div"),l=D("i"),this.h()},l(s){e=I(s,"DIV",{class:!0});var n=w(e);l=I(n,"I",{class:!0}),w(l).forEach(h),n.forEach(h),this.h()},h(){y(l,"class","bi bi-eraser"),y(e,"class","ms-2 cursor-pointer")},m(s,n){F(s,e,n),_(e,l),t||(r=pe(e,"click",a[7]),t=!0)},p:Q,d(s){s&&h(e),t=!1,r()}}}function Et(a){let e,l,t,r,s,n,i,o,v,p,E,u,$,S,k,f,d;function m(V){a[10](V)}function c(V){a[11](V)}let g={placeholder:"From",isClearable:!1,noOptionsMessage:"Year out of range"};a[2]!==void 0&&(g.items=a[2]),a[0]!==void 0&&(g.value=a[0]),n=new Te({props:g}),ke.push(()=>Ee(n,"items",m)),ke.push(()=>Ee(n,"value",c)),n.$on("select",a[5]);function b(V){a[12](V)}let T={placeholder:"to",items:a[3],isClearable:!1,noOptionsMessage:"Year out of range"};a[1]!==void 0&&(T.value=a[1]),S=new Te({props:T}),ke.push(()=>Ee(S,"value",b)),S.$on("select",a[6]);let A=a[4].years&&He(a);return{c(){e=D("div"),l=D("div"),t=j("Period:"),r=L(),s=D("div"),U(n.$$.fragment),v=L(),p=D("div"),E=j("-"),u=L(),$=D("div"),U(S.$$.fragment),f=L(),A&&A.c(),this.h()},l(V){e=I(V,"DIV",{class:!0});var C=w(e);l=I(C,"DIV",{class:!0});var N=w(l);t=M(N,"Period:"),N.forEach(h),r=B(C),s=I(C,"DIV",{class:!0});var z=w(s);W(n.$$.fragment,z),z.forEach(h),v=B(C),p=I(C,"DIV",{class:!0});var fe=w(p);E=M(fe,"-"),fe.forEach(h),u=B(C),$=I(C,"DIV",{class:!0});var he=w($);W(S.$$.fragment,he),he.forEach(h),f=B(C),A&&A.l(C),C.forEach(h),this.h()},h(){y(l,"class","me-2"),y(s,"class","select svelte-15cl60y"),y(p,"class","mx-2"),y($,"class","select svelte-15cl60y"),y(e,"class","d-flex align-items-center themed svelte-15cl60y")},m(V,C){F(V,e,C),_(e,l),_(l,t),_(e,r),_(e,s),Z(n,s,null),_(e,v),_(e,p),_(p,E),_(e,u),_(e,$),Z(S,$,null),_(e,f),A&&A.m(e,null),d=!0},p(V,[C]){const N={};!i&&C&4&&(i=!0,N.items=V[2],$e(()=>i=!1)),!o&&C&1&&(o=!0,N.value=V[0],$e(()=>o=!1)),n.$set(N);const z={};C&8&&(z.items=V[3]),!k&&C&2&&(k=!0,z.value=V[1],$e(()=>k=!1)),S.$set(z),V[4].years?A?A.p(V,C):(A=He(V),A.c(),A.m(e,null)):A&&(A.d(1),A=null)},i(V){d||(R(n.$$.fragment,V),R(S.$$.fragment,V),d=!0)},o(V){H(n.$$.fragment,V),H(S.$$.fragment,V),d=!1},d(V){V&&h(e),x(n),x(S),A&&A.d()}}}function $t(a,e,l){let t;X(a,le,c=>l(4,t=c));let{startYear:r,endYear:s}=e;const n=ot();let i={value:r,label:r.toString()},o={value:s,label:s.toString()},v=de(r,s).map(c=>({value:c,label:c.toString()})),p=de(r+1,s+1).map(c=>({value:c,label:c.toString()}));function E(c){l(3,p=de(c.detail.value+1,s+1).map(g=>({value:g,label:g.toString()}))),!(i.value===r&&o.value===s)&&S(i.value,o.value)}function u(c){l(2,v=de(r,c.detail.value).map(g=>({value:g,label:g.toString()}))),!(i.value===r&&o.value===s)&&S(i.value,o.value)}function $(){l(2,v=de(r,s).map(c=>({value:c,label:c.toString()}))),l(3,p=de(r+1,s+1).map(c=>({value:c,label:c.toString()}))),l(0,i={value:r,label:r.toString()}),l(1,o={value:s,label:s.toString()}),k()}function S(c,g){n("updateCf",{start:c,end:g})}function k(){n("resetCf")}function f(c){v=c,l(2,v)}function d(c){i=c,l(0,i)}function m(c){o=c,l(1,o)}return a.$$set=c=>{"startYear"in c&&l(8,r=c.startYear),"endYear"in c&&l(9,s=c.endYear)},[i,o,v,p,t,E,u,$,r,s,f,d,m]}class yt extends ae{constructor(e){super();ie(this,e,$t,Et,oe,{startYear:8,endYear:9})}}function Oe(a,e,l){const t=a.slice();t[12]=e[l];const r=t[4][t[0][0]].find(s=>s.id===t[12].key);return t[13]=r,t}function je(a){let e;return{c(){e=D("i"),this.h()},l(l){e=I(l,"I",{class:!0}),w(e).forEach(h),this.h()},h(){y(e,"class","bi bi-eraser")},m(l,t){F(l,e,t)},d(l){l&&h(e)}}}function Me(a,e){let l,t,r=e[13].fields.Name+"",s,n,i,o=e[12].value+"",v,p,E,u,$;function S(){return e[9](e[12])}return{key:a,first:null,c(){l=D("div"),t=D("div"),s=j(r),n=L(),i=D("div"),v=j(o),p=L(),this.h()},l(k){l=I(k,"DIV",{class:!0,style:!0});var f=w(l);t=I(f,"DIV",{});var d=w(t);s=M(d,r),d.forEach(h),n=B(f),i=I(f,"DIV",{});var m=w(i);v=M(m,o),m.forEach(h),p=B(f),f.forEach(h),this.h()},h(){y(l,"class","facet d-flex justify-content-between px-2 pt-1 mb-1 rounded cursor-pointer svelte-6tbqyh"),y(l,"style",E=`padding-bottom:${e[5](e[12].value)}px`),me(l,"active",e[3][e[0][0]]&&e[3][e[0][0]].includes(e[12].key)),me(l,"disabled",e[12].value===0),this.first=l},m(k,f){F(k,l,f),_(l,t),_(t,s),_(l,n),_(l,i),_(i,v),_(l,p),u||($=pe(l,"click",S),u=!0)},p(k,f){e=k,f&19&&r!==(r=e[13].fields.Name+"")&&ee(s,r),f&2&&o!==(o=e[12].value+"")&&ee(v,o),f&2&&E!==(E=`padding-bottom:${e[5](e[12].value)}px`)&&y(l,"style",E),f&11&&me(l,"active",e[3][e[0][0]]&&e[3][e[0][0]].includes(e[12].key)),f&2&&me(l,"disabled",e[12].value===0)},d(k){k&&h(l),u=!1,$()}}}function Dt(a){let e,l,t=a[0][0]+"",r,s,n,i,o,v=[],p=new Map,E,u,$=a[3][a[0][0]]&&je(),S=a[1];const k=f=>f[12].key;for(let f=0;f<S.length;f+=1){let d=Oe(a,S,f),m=k(d);p.set(m,v[f]=Me(m,d))}return{c(){e=D("div"),l=D("div"),r=j(t),s=L(),n=D("div"),$&&$.c(),i=L(),o=D("div");for(let f=0;f<v.length;f+=1)v[f].c();this.h()},l(f){e=I(f,"DIV",{class:!0});var d=w(e);l=I(d,"DIV",{class:!0});var m=w(l);r=M(m,t),s=B(m),n=I(m,"DIV",{class:!0});var c=w(n);$&&$.l(c),c.forEach(h),m.forEach(h),i=B(d),o=I(d,"DIV",{class:!0});var g=w(o);for(let b=0;b<v.length;b+=1)v[b].l(g);g.forEach(h),d.forEach(h),this.h()},h(){y(n,"class","cursor-pointer ms-auto"),y(l,"class","title d-flex mb-2 bg-white position-sticky top-0 svelte-6tbqyh"),y(o,"class","d-flex flex-column"),y(e,"class","groupContainer svelte-6tbqyh")},m(f,d){F(f,e,d),_(e,l),_(l,r),_(l,s),_(l,n),$&&$.m(n,null),_(e,i),_(e,o);for(let m=0;m<v.length;m+=1)v[m].m(o,null);E||(u=pe(n,"click",a[8]),E=!0)},p(f,[d]){d&1&&t!==(t=f[0][0]+"")&&ee(r,t),f[3][f[0][0]]?$||($=je(),$.c(),$.m(n,null)):$&&($.d(1),$=null),d&127&&(S=f[1],v=ye(v,d,k,1,f,S,p,o,dt,Me,null,Oe))},i:Q,o:Q,d(f){f&&h(e),$&&$.d();for(let d=0;d<v.length;d+=1)v[d].d();E=!1,u()}}}function It(a,e,l){let t,r,s,n;X(a,De,k=>l(2,r=k)),X(a,le,k=>l(3,s=k)),X(a,Ie,k=>l(4,n=k));let{group:i}=e;const o=ot(),v=_t().domain([1,i[1].top(1)[0].value]).range([4,60]).clamp(!0),p=Object.assign({},...i[1].top(1/0).map((k,f)=>({[k.key]:f})));function E(k,f,d){o("filterCf",{key:k,dim:f,value:d})}function u(k,f){o("resetCf",{key:k,dim:f})}const $=()=>u(i[0],r.dims.get(i[0])),S=k=>{E(i[0],r.dims.get(i[0]),k.key)};return a.$$set=k=>{"group"in k&&l(0,i=k.group)},a.$$.update=()=>{a.$$.dirty&1&&l(1,t=[...i[1].all()].sort((k,f)=>ct(p[k.key],p[f.key])))},[i,t,r,s,n,v,E,u,$,S]}class wt extends ae{constructor(e){super();ie(this,e,It,Dt,oe,{group:0})}}function Pe(a,e,l){const t=a.slice();return t[14]=e[l],t}function qe(a){let e,l;return e=new yt({props:{startYear:a[2],endYear:a[1]}}),e.$on("resetCf",a[8]),e.$on("updateCf",a[9]),{c(){U(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r&4&&(s.startYear=t[2]),r&2&&(s.endYear=t[1]),e.$set(s)},i(t){l||(R(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Ge(a){let e,l;return e=new wt({props:{group:a[14]}}),e.$on("filterCf",a[10]),e.$on("resetCf",a[11]),{c(){U(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r&1&&(s.group=t[14]),e.$set(s)},i(t){l||(R(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function St(a){let e,l,t,r,s,n=a[2]&&a[1]&&qe(a),i=a[0],o=[];for(let p=0;p<i.length;p+=1)o[p]=Ge(Pe(a,i,p));const v=p=>H(o[p],1,1,()=>{o[p]=null});return{c(){e=D("div"),n&&n.c(),l=L(),t=D("div");for(let p=0;p<o.length;p+=1)o[p].c();this.h()},l(p){e=I(p,"DIV",{class:!0});var E=w(e);n&&n.l(E),l=B(E),t=I(E,"DIV",{class:!0});var u=w(t);for(let $=0;$<o.length;$+=1)o[$].l(u);u.forEach(h),E.forEach(h),this.h()},h(){y(t,"class","groupsContainer mt-3 d-inline-flex svelte-pkhbsc"),y(e,"class","border border-dark rounded my-2 p-4")},m(p,E){F(p,e,E),n&&n.m(e,null),_(e,l),_(e,t);for(let u=0;u<o.length;u+=1)o[u].m(t,null);s=!0},p(p,[E]){if(p[2]&&p[1]?n?(n.p(p,E),E&6&&R(n,1)):(n=qe(p),n.c(),R(n,1),n.m(e,l)):n&&(se(),H(n,1,1,()=>{n=null}),ne()),E&73){i=p[0];let u;for(u=0;u<i.length;u+=1){const $=Pe(p,i,u);o[u]?(o[u].p($,E),R(o[u],1)):(o[u]=Ge($),o[u].c(),R(o[u],1),o[u].m(t,null))}for(se(),u=i.length;u<o.length;u+=1)v(u);ne()}},i(p){if(!s){R(n);for(let E=0;E<i.length;E+=1)R(o[E]);ft(()=>{r||(r=Fe(e,Le,{},!0)),r.run(1)}),s=!0}},o(p){H(n),o=o.filter(Boolean);for(let E=0;E<o.length;E+=1)H(o[E]);r||(r=Fe(e,Le,{},!1)),r.run(0),s=!1},d(p){p&&h(e),n&&n.d(),_e(o,p),p&&r&&r.end()}}}function Vt(a,e,l){let t,r,s,n,i;X(a,De,d=>l(7,n=d)),X(a,le,d=>l(12,i=d));function o(){l(0,t=[...Array.from(n.groups)])}function v(d,m,c){if(!i[d])le.update(g=>(g[d]=[c],g));else{const g=i[d].findIndex(b=>b===c);le.update(b=>(g===-1?b[d].push(c):b[d].splice(g,1),b[d].length||delete b[d],b))}i[d]&&i[d].length?m.filterFunction(g=>i[d].includes(g)):m.filterAll(),o()}function p(d){le.update(m=>(m.years=d.detail,m)),n.dims.get("Start year").filterFunction(m=>m>=d.detail.start),n.dims.get("End year").filterFunction(m=>m<=d.detail.end),o()}function E(){n.dims.get("Start year").filterAll(),n.dims.get("End year").filterAll(),le.update(d=>(delete d.years,d)),o()}function u(d,m){m.filterAll(),le.update(c=>(delete c[d],c)),o()}const $=()=>E(),S=d=>p(d),k=d=>v(d.detail.key,d.detail.dim,d.detail.value),f=d=>u(d.detail.key,d.detail.dim);return a.$$.update=()=>{a.$$.dirty&128&&l(0,t=[...Array.from(n.groups)]),a.$$.dirty&128&&l(2,r=n.dims.get("Start year").bottom(1)[0]?n.dims.get("Start year").bottom(1)[0]["Start year"]:null),a.$$.dirty&128&&l(1,s=n.dims.get("End year").top(1)[0]?n.dims.get("End year").top(1)[0]["End year"]:null)},[t,s,r,v,p,E,u,n,$,S,k,f]}class Ct extends ae{constructor(e){super();ie(this,e,Vt,St,oe,{})}}function ze(a,e,l){const t=a.slice();return t[4]=e[l][0],t[5]=e[l][1],t}function Je(a,e,l){const t=a.slice();return t[8]=e[l],t}function Yt(a){let e,l=a[5].start+"",t,r,s=a[5].end+"",n;return{c(){e=D("span"),t=j(l),r=j(" - "),n=j(s),this.h()},l(i){e=I(i,"SPAN",{class:!0});var o=w(e);t=M(o,l),r=M(o," - "),n=M(o,s),o.forEach(h),this.h()},h(){y(e,"class","badge rounded-pill bg-dark")},m(i,o){F(i,e,o),_(e,t),_(e,r),_(e,n)},p(i,o){o&1&&l!==(l=i[5].start+"")&&ee(t,l),o&1&&s!==(s=i[5].end+"")&&ee(n,s)},d(i){i&&h(e)}}}function At(a){let e,l=a[5],t=[];for(let r=0;r<l.length;r+=1)t[r]=Ke(Je(a,l,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=K()},l(r){for(let s=0;s<t.length;s+=1)t[s].l(r);e=K()},m(r,s){for(let n=0;n<t.length;n+=1)t[n].m(r,s);F(r,e,s)},p(r,s){if(s&3){l=r[5];let n;for(n=0;n<l.length;n+=1){const i=Je(r,l,n);t[n]?t[n].p(i,s):(t[n]=Ke(i),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(r){_e(t,r),r&&h(e)}}}function Xe(a){let e,l=(a[1][a[4]]&&a[1][a[4]].find(r).fields.Name)+"",t;function r(...s){return a[3](a[8],...s)}return{c(){e=D("span"),t=j(l),this.h()},l(s){e=I(s,"SPAN",{class:!0});var n=w(e);t=M(n,l),n.forEach(h),this.h()},h(){y(e,"class","badge rounded-pill bg-dark me-1")},m(s,n){F(s,e,n),_(e,t)},p(s,n){a=s,n&3&&l!==(l=(a[1][a[4]]&&a[1][a[4]].find(r).fields.Name)+"")&&ee(t,l)},d(s){s&&h(e)}}}function Ke(a){let e,l=a[8]&&Xe(a);return{c(){l&&l.c(),e=K()},l(t){l&&l.l(t),e=K()},m(t,r){l&&l.m(t,r),F(t,e,r)},p(t,r){t[8]?l?l.p(t,r):(l=Xe(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&h(e)}}}function Qe(a){let e;function l(s,n){if(s[5]&&s[5].length>0)return At;if(s[5])return Yt}let t=l(a),r=t&&t(a);return{c(){r&&r.c(),e=K()},l(s){r&&r.l(s),e=K()},m(s,n){r&&r.m(s,n),F(s,e,n)},p(s,n){t===(t=l(s))&&r?r.p(s,n):(r&&r.d(1),r=t&&t(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r&&r.d(s),s&&h(e)}}}function Nt(a){let e,l=a[0],t=[];for(let r=0;r<l.length;r+=1)t[r]=Qe(ze(a,l,r));return{c(){e=D("div");for(let r=0;r<t.length;r+=1)t[r].c()},l(r){e=I(r,"DIV",{});var s=w(e);for(let n=0;n<t.length;n+=1)t[n].l(s);s.forEach(h)},m(r,s){F(r,e,s);for(let n=0;n<t.length;n+=1)t[n].m(e,null)},p(r,[s]){if(s&3){l=r[0];let n;for(n=0;n<l.length;n+=1){const i=ze(r,l,n);t[n]?t[n].p(i,s):(t[n]=Qe(i),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},i:Q,o:Q,d(r){r&&h(e),_e(t,r)}}}function Rt(a,e,l){let t,r,s;X(a,le,i=>l(2,r=i)),X(a,Ie,i=>l(1,s=i));const n=(i,o)=>o.id===i;return a.$$.update=()=>{a.$$.dirty&4&&l(0,t=[...Object.entries(r)])},[t,s,r,n]}class Tt extends ae{constructor(e){super();ie(this,e,Rt,Nt,oe,{})}}function Ue(a,e,l){const t=a.slice();return t[1]=e[l],t}function We(a,e){let l,t,r,s;return t=new bt({props:{record:e[1]}}),{key:a,first:null,c(){l=D("div"),U(t.$$.fragment),r=L(),this.h()},l(n){l=I(n,"DIV",{class:!0});var i=w(l);W(t.$$.fragment,i),r=B(i),i.forEach(h),this.h()},h(){y(l,"class","col-3 my-2"),this.first=l},m(n,i){F(n,l,i),Z(t,l,null),_(l,r),s=!0},p(n,i){e=n;const o={};i&1&&(o.record=e[1]),t.$set(o)},i(n){s||(R(t.$$.fragment,n),s=!0)},o(n){H(t.$$.fragment,n),s=!1},d(n){n&&h(l),x(t)}}}function Ft(a){let e=[],l=new Map,t,r,s=a[0];const n=i=>i[1].id;for(let i=0;i<s.length;i+=1){let o=Ue(a,s,i),v=n(o);l.set(v,e[i]=We(v,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=K()},l(i){for(let o=0;o<e.length;o+=1)e[o].l(i);t=K()},m(i,o){for(let v=0;v<e.length;v+=1)e[v].m(i,o);F(i,t,o),r=!0},p(i,[o]){o&1&&(s=i[0],se(),e=ye(e,o,n,1,i,s,l,t.parentNode,ut,We,t,Ue),ne())},i(i){if(!r){for(let o=0;o<s.length;o+=1)R(e[o]);r=!0}},o(i){for(let o=0;o<e.length;o+=1)H(e[o]);r=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&h(t)}}}function Lt(a,e,l){let{records:t=[]}=e;return a.$$set=r=>{"records"in r&&l(0,t=r.records)},[t]}class Bt extends ae{constructor(e){super();ie(this,e,Lt,Ft,oe,{records:0})}}ce.disable_scroll_handling;const Ht=ce.goto;ce.invalidate;ce.prefetch;ce.prefetch_routes;ce.before_navigate;ce.after_navigate;function Ze(a,e,l){const t=a.slice();return t[4]=e[l],t}function xe(a,e,l){const t=a.slice();return t[7]=e[l],t}function et(a,e,l){const t=a.slice();return t[7]=e[l],t}function tt(a){let e,l,t=a[7].label+"",r;return{c(){e=D("th"),l=D("small"),r=j(t),this.h()},l(s){e=I(s,"TH",{class:!0,scope:!0});var n=w(e);l=I(n,"SMALL",{});var i=w(l);r=M(i,t),i.forEach(h),n.forEach(h),this.h()},h(){y(e,"class","text-muted fw-normal"),y(e,"scope","col")},m(s,n){F(s,e,n),_(e,l),_(l,r)},p:Q,d(s){s&&h(e)}}}function Ot(a){let e,l=a[4][a[7].label]+"",t;return{c(){e=D("td"),t=j(l),this.h()},l(r){e=I(r,"TD",{class:!0});var s=w(e);t=M(s,l),s.forEach(h),this.h()},h(){y(e,"class","border-dark")},m(r,s){F(r,e,s),_(e,t)},p(r,s){s&1&&l!==(l=r[4][r[7].label]+"")&&ee(t,l)},d(r){r&&h(e)}}}function jt(a){let e,l=a[1][a[7].label].filter(r).map(st).join(", ")+"",t;function r(...s){return a[2](a[4],a[7],...s)}return{c(){e=D("td"),t=j(l),this.h()},l(s){e=I(s,"TD",{class:!0});var n=w(e);t=M(n,l),n.forEach(h),this.h()},h(){y(e,"class","fst-italic border-dark")},m(s,n){F(s,e,n),_(e,t)},p(s,n){a=s,n&3&&l!==(l=a[1][a[7].label].filter(r).map(st).join(", ")+"")&&ee(t,l)},d(s){s&&h(e)}}}function lt(a){let e;function l(s,n){return s[7].multiple?jt:Ot}let r=l(a)(a);return{c(){r.c(),e=K()},l(s){r.l(s),e=K()},m(s,n){r.m(s,n),F(s,e,n)},p(s,n){r.p(s,n)},d(s){r.d(s),s&&h(e)}}}function rt(a,e){let l,t,r,s,n,i,o,v,p,E,u,$,S,k=ge,f=[];for(let m=0;m<k.length;m+=1)f[m]=lt(xe(e,k,m));s=new gt({props:{record:e[4]}});function d(){return e[3](e[4])}return{key:a,first:null,c(){l=D("tr");for(let m=0;m<f.length;m+=1)f[m].c();t=L(),r=D("td"),U(s.$$.fragment),n=L(),i=D("td"),o=D("a"),v=D("i"),E=L(),this.h()},l(m){l=I(m,"TR",{class:!0});var c=w(l);for(let A=0;A<f.length;A+=1)f[A].l(c);t=B(c),r=I(c,"TD",{class:!0});var g=w(r);W(s.$$.fragment,g),g.forEach(h),n=B(c),i=I(c,"TD",{class:!0});var b=w(i);o=I(b,"A",{class:!0,href:!0,target:!0});var T=w(o);v=I(T,"I",{class:!0}),w(v).forEach(h),T.forEach(h),b.forEach(h),E=B(c),c.forEach(h),this.h()},h(){y(r,"class","border-dark"),y(v,"class","bi bi-link"),y(o,"class","text-body"),y(o,"href",p=e[4]["Link to collection"]),y(o,"target","_blank"),y(i,"class","border-dark"),y(l,"class","line cursor-pointer svelte-rugiwi"),this.first=l},m(m,c){F(m,l,c);for(let g=0;g<f.length;g+=1)f[g].m(l,null);_(l,t),_(l,r),Z(s,r,null),_(l,n),_(l,i),_(i,o),_(o,v),_(l,E),u=!0,$||(S=pe(l,"click",d),$=!0)},p(m,c){if(e=m,c&3){k=ge;let b;for(b=0;b<k.length;b+=1){const T=xe(e,k,b);f[b]?f[b].p(T,c):(f[b]=lt(T),f[b].c(),f[b].m(l,t))}for(;b<f.length;b+=1)f[b].d(1);f.length=k.length}const g={};c&1&&(g.record=e[4]),s.$set(g),(!u||c&1&&p!==(p=e[4]["Link to collection"]))&&y(o,"href",p)},i(m){u||(R(s.$$.fragment,m),u=!0)},o(m){H(s.$$.fragment,m),u=!1},d(m){m&&h(l),_e(f,m),x(s),$=!1,S()}}}function Mt(a){let e,l,t,r,s,n,i,o,v,p,E,u=[],$=new Map,S,k=ge,f=[];for(let c=0;c<k.length;c+=1)f[c]=tt(et(a,k,c));let d=a[0];const m=c=>c[4].id;for(let c=0;c<d.length;c+=1){let g=Ze(a,d,c),b=m(g);$.set(b,u[c]=rt(b,g))}return{c(){e=D("div"),l=D("div"),t=D("table"),r=D("thead"),s=D("tr");for(let c=0;c<f.length;c+=1)f[c].c();n=L(),i=D("th"),o=L(),v=D("th"),p=L(),E=D("tbody");for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){e=I(c,"DIV",{class:!0});var g=w(e);l=I(g,"DIV",{class:!0});var b=w(l);t=I(b,"TABLE",{class:!0});var T=w(t);r=I(T,"THEAD",{});var A=w(r);s=I(A,"TR",{});var V=w(s);for(let N=0;N<f.length;N+=1)f[N].l(V);n=B(V),i=I(V,"TH",{class:!0,scope:!0}),w(i).forEach(h),o=B(V),v=I(V,"TH",{class:!0,scope:!0}),w(v).forEach(h),V.forEach(h),A.forEach(h),p=B(T),E=I(T,"TBODY",{});var C=w(E);for(let N=0;N<u.length;N+=1)u[N].l(C);C.forEach(h),T.forEach(h),b.forEach(h),g.forEach(h),this.h()},h(){y(i,"class","header"),y(i,"scope","col"),y(v,"class","header"),y(v,"scope","col"),y(t,"class","table"),y(l,"class","table-responsive"),y(e,"class","col-12")},m(c,g){F(c,e,g),_(e,l),_(l,t),_(t,r),_(r,s);for(let b=0;b<f.length;b+=1)f[b].m(s,null);_(s,n),_(s,i),_(s,o),_(s,v),_(t,p),_(t,E);for(let b=0;b<u.length;b+=1)u[b].m(E,null);S=!0},p(c,[g]){if(g&0){k=ge;let b;for(b=0;b<k.length;b+=1){const T=et(c,k,b);f[b]?f[b].p(T,g):(f[b]=tt(T),f[b].c(),f[b].m(s,n))}for(;b<f.length;b+=1)f[b].d(1);f.length=k.length}g&3&&(d=c[0],se(),u=ye(u,g,m,1,c,d,$,E,ut,rt,null,Ze),ne())},i(c){if(!S){for(let g=0;g<d.length;g+=1)R(u[g]);S=!0}},o(c){for(let g=0;g<u.length;g+=1)H(u[g]);S=!1},d(c){c&&h(e),_e(f,c);for(let g=0;g<u.length;g+=1)u[g].d()}}}const st=a=>a.fields.Name;function Pt(a,e,l){let t;X(a,Ie,i=>l(1,t=i));let{records:r=[]}=e;const s=(i,o,v)=>i[o.label].includes(v.id),n=i=>Ht(`${kt}/resource/${i.id}`);return a.$$set=i=>{"records"in i&&l(0,r=i.records)},[r,t,s,n]}class qt extends ae{constructor(e){super();ie(this,e,Pt,Mt,oe,{records:0})}}function nt(a,e,l){const t=a.slice();return t[9]=e[l],t}function at(a){let e,l;return e=new Ct({}),{c(){U(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},i(t){l||(R(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function it(a){let e,l=a[9].label+"",t,r,s;return{c(){e=D("option"),t=j(l),r=L(),this.h()},l(n){e=I(n,"OPTION",{});var i=w(e);t=M(i,l),r=B(i),i.forEach(h),this.h()},h(){e.__value=s=a[9].value,e.value=e.__value},m(n,i){F(n,e,i),_(e,t),_(e,r)},p:Q,d(n){n&&h(e)}}}function Gt(a){let e,l,t;return{c(){e=D("div"),l=D("h6"),t=j("No results! Remove some filters"),this.h()},l(r){e=I(r,"DIV",{class:!0});var s=w(e);l=I(s,"H6",{class:!0});var n=w(l);t=M(n,"No results! Remove some filters"),n.forEach(h),s.forEach(h),this.h()},h(){y(l,"class","text-center"),y(e,"class","col-12")},m(r,s){F(r,e,s),_(e,l),_(l,t)},p:Q,i:Q,o:Q,d(r){r&&h(e)}}}function zt(a){let e,l,t,r;const s=[Xt,Jt],n=[];function i(o,v){return o[5]==="grid"?0:1}return e=i(a),l=n[e]=s[e](a),{c(){l.c(),t=K()},l(o){l.l(o),t=K()},m(o,v){n[e].m(o,v),F(o,t,v),r=!0},p(o,v){let p=e;e=i(o),e===p?n[e].p(o,v):(se(),H(n[p],1,1,()=>{n[p]=null}),ne(),l=n[e],l?l.p(o,v):(l=n[e]=s[e](o),l.c()),R(l,1),l.m(t.parentNode,t))},i(o){r||(R(l),r=!0)},o(o){H(l),r=!1},d(o){n[e].d(o),o&&h(t)}}}function Jt(a){let e,l;return e=new qt({props:{records:a[2]}}),{c(){U(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r&4&&(s.records=t[2]),e.$set(s)},i(t){l||(R(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Xt(a){let e,l;return e=new Bt({props:{records:a[2]}}),{c(){U(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r&4&&(s.records=t[2]),e.$set(s)},i(t){l||(R(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Kt(a){let e,l,t,r,s,n,i,o,v=a[1].size()+"",p,E,u,$,S,k,f,d,m,c,g,b,T,A,V,C,N,z,fe,he,P=a[4]&&at(),ue=a[6],q=[];for(let Y=0;Y<ue.length;Y+=1)q[Y]=it(nt(a,ue,Y));T=new Tt({});const we=[zt,Gt],re=[];function Se(Y,O){return Y[2].length?0:1}return C=Se(a),N=re[C]=we[C](a),{c(){e=D("div"),P&&P.c(),l=L(),t=D("div"),r=D("div"),s=D("p"),n=j("Displaying: "),i=j(a[3]),o=j(" / "),p=j(v),E=j(" archives"),u=L(),$=D("div"),S=D("label"),k=j("Sort by:"),f=L(),d=D("div"),m=D("select");for(let Y=0;Y<q.length;Y+=1)q[Y].c();c=L(),g=D("div"),b=D("div"),U(T.$$.fragment),A=L(),V=D("div"),N.c(),this.h()},l(Y){e=I(Y,"DIV",{class:!0});var O=w(e);P&&P.l(O),l=B(O),t=I(O,"DIV",{class:!0});var J=w(t);r=I(J,"DIV",{class:!0});var G=w(r);s=I(G,"P",{class:!0});var te=w(s);n=M(te,"Displaying: "),i=M(te,a[3]),o=M(te," / "),p=M(te,v),E=M(te," archives"),te.forEach(h),G.forEach(h),u=B(J),$=I(J,"DIV",{class:!0});var ve=w($);S=I(ve,"LABEL",{class:!0,for:!0});var Ve=w(S);k=M(Ve,"Sort by:"),Ve.forEach(h),f=B(ve),d=I(ve,"DIV",{class:!0});var Ce=w(d);m=I(Ce,"SELECT",{id:!0,class:!0});var Ye=w(m);for(let be=0;be<q.length;be+=1)q[be].l(Ye);Ye.forEach(h),Ce.forEach(h),ve.forEach(h),J.forEach(h),c=B(O),g=I(O,"DIV",{class:!0});var Ae=w(g);b=I(Ae,"DIV",{class:!0});var Ne=w(b);W(T.$$.fragment,Ne),Ne.forEach(h),Ae.forEach(h),A=B(O),V=I(O,"DIV",{class:!0});var Re=w(V);N.l(Re),Re.forEach(h),O.forEach(h),this.h()},h(){y(s,"class","my-0 BespokeSerif me-2"),y(r,"class","col-auto"),y(S,"class","col-auto me-2 BespokeSerif"),y(S,"for","sort-select"),y(m,"id","sort-select"),y(m,"class","form-select rounded-pill border-dark"),a[0]===void 0&&ft(()=>a[7].call(m)),y(d,"class","col-auto"),y($,"class","col-auto ms-auto d-flex align-items-center"),y(t,"class","row align-items-center mt-3"),y(b,"class","col-12"),y(g,"class","row"),y(V,"class","row mt-2"),y(e,"class","container")},m(Y,O){F(Y,e,O),P&&P.m(e,null),_(e,l),_(e,t),_(t,r),_(r,s),_(s,n),_(s,i),_(s,o),_(s,p),_(s,E),_(t,u),_(t,$),_($,S),_(S,k),_($,f),_($,d),_(d,m);for(let J=0;J<q.length;J+=1)q[J].m(m,null);Be(m,a[0]),_(e,c),_(e,g),_(g,b),Z(T,b,null),_(e,A),_(e,V),re[C].m(V,null),z=!0,fe||(he=pe(m,"change",a[7]),fe=!0)},p(Y,[O]){if(Y[4]?P?O&16&&R(P,1):(P=at(),P.c(),R(P,1),P.m(e,l)):P&&(se(),H(P,1,1,()=>{P=null}),ne()),(!z||O&8)&&ee(i,Y[3]),(!z||O&2)&&v!==(v=Y[1].size()+"")&&ee(p,v),O&64){ue=Y[6];let G;for(G=0;G<ue.length;G+=1){const te=nt(Y,ue,G);q[G]?q[G].p(te,O):(q[G]=it(te),q[G].c(),q[G].m(m,null))}for(;G<q.length;G+=1)q[G].d(1);q.length=ue.length}O&65&&Be(m,Y[0]);let J=C;C=Se(Y),C===J?re[C].p(Y,O):(se(),H(re[J],1,1,()=>{re[J]=null}),ne(),N=re[C],N?N.p(Y,O):(N=re[C]=we[C](Y),N.c()),R(N,1),N.m(V,null))},i(Y){z||(R(P),R(T.$$.fragment,Y),R(N),z=!0)},o(Y){H(P),H(T.$$.fragment,Y),H(N),z=!1},d(Y){Y&&h(e),P&&P.d(),_e(q,Y),x(T),re[C].d(),fe=!1,he()}}}function Qt(a,e,l){let t,r,s,n;X(a,De,u=>l(1,r=u)),X(a,vt,u=>l(4,s=u)),X(a,mt,u=>l(5,n=u));const i=[{value:"Created",label:"Most recent"},{value:"Name of collection",label:"Alphabetically"}];let o,v=[];function p(u,$){const S=$.allFiltered()||[];S.sort((k,f)=>u?u==="Created"?ht(k[u],f[u]):ct(k[u],f[u]):1),l(2,v=[...S])}function E(){o=pt(this),l(0,o),l(6,i)}return a.$$.update=()=>{a.$$.dirty&2&&l(3,t=r.size()),a.$$.dirty&3&&p(o,r),a.$$.dirty&3&&r.onChange(u=>{p(o,r),l(3,t=r.allFiltered().length)})},[o,r,v,t,s,n,i,E]}class ll extends ae{constructor(e){super();ie(this,e,Qt,Kt,oe,{})}}export{ll as default};
