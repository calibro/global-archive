import{S as fe,i as ue,s as de,ai as Me,ad as De,aj as Ve,e as E,c as y,a as I,d as h,b,g as F,H as _,I as ge,J as ne,t as M,k as B,w as W,h as j,m as O,x as X,y as Z,ak as Se,q as C,o as N,B as x,L as U,al as ht,am as pe,G as oe,j as te,a5 as vt,an as pt,ao as gt,ap as mt,n as se,p as ie,a1 as Ee,ag as $e,aq as je,a4 as ye,l as le,ar as bt,F as Ge,a6 as kt,as as $t,at as ze,au as Et,av as yt,aw as It,ah as wt}from"../chunks/vendor-82711f55.js";import{B as Dt,b as Vt}from"../chunks/Bookmark-bd457647.js";import{d as re,c as Ce,g as Ne,s as St,v as Ct}from"../chunks/stores-e8516c37.js";import{I as Nt,R as Yt}from"../chunks/Resource-4322e43a.js";import{b as Te}from"../chunks/paths-396f020f.js";import{L as At}from"../chunks/ListView-d8b2ad27.js";import{p as Rt}from"../chunks/api-aab76c54.js";import"../chunks/singletons-d1fb5791.js";import"../chunks/Responsive-4d842f31.js";function Je(i){let e,l,t,r;return{c(){e=E("div"),l=E("i"),this.h()},l(s){e=y(s,"DIV",{class:!0});var n=I(e);l=y(n,"I",{class:!0}),I(l).forEach(h),n.forEach(h),this.h()},h(){b(l,"class","bi bi-eraser"),b(e,"class","ms-2 cursor-pointer")},m(s,n){F(s,e,n),_(e,l),t||(r=ge(e,"click",i[7]),t=!0)},p:ne,d(s){s&&h(e),t=!1,r()}}}function Ft(i){let e,l,t,r,s,n,a,o,u,D,m,$,v,w,p,f,c;function g(S){i[10](S)}function d(S){i[11](S)}let k={placeholder:"From",isClearable:!1,noOptionsMessage:"Year out of range"};i[2]!==void 0&&(k.items=i[2]),i[0]!==void 0&&(k.value=i[0]),n=new Me({props:k}),De.push(()=>Ve(n,"items",g)),De.push(()=>Ve(n,"value",d)),n.$on("select",i[5]);function A(S){i[12](S)}let K={placeholder:"to",items:i[3],isClearable:!1,noOptionsMessage:"Year out of range"};i[1]!==void 0&&(K.value=i[1]),w=new Me({props:K}),De.push(()=>Ve(w,"value",A)),w.$on("select",i[6]);let Y=i[4].years&&Je(i);return{c(){e=E("div"),l=E("div"),t=M("Period:"),r=B(),s=E("div"),W(n.$$.fragment),u=B(),D=E("div"),m=M("-"),$=B(),v=E("div"),W(w.$$.fragment),f=B(),Y&&Y.c(),this.h()},l(S){e=y(S,"DIV",{class:!0});var R=I(e);l=y(R,"DIV",{class:!0});var Q=I(l);t=j(Q,"Period:"),Q.forEach(h),r=O(R),s=y(R,"DIV",{class:!0});var G=I(s);X(n.$$.fragment,G),G.forEach(h),u=O(R),D=y(R,"DIV",{class:!0});var J=I(D);m=j(J,"-"),J.forEach(h),$=O(R),v=y(R,"DIV",{class:!0});var _e=I(v);X(w.$$.fragment,_e),_e.forEach(h),f=O(R),Y&&Y.l(R),R.forEach(h),this.h()},h(){b(l,"class","me-2"),b(s,"class","select svelte-15cl60y"),b(D,"class","mx-2"),b(v,"class","select svelte-15cl60y"),b(e,"class","d-flex align-items-center themed svelte-15cl60y")},m(S,R){F(S,e,R),_(e,l),_(l,t),_(e,r),_(e,s),Z(n,s,null),_(e,u),_(e,D),_(D,m),_(e,$),_(e,v),Z(w,v,null),_(e,f),Y&&Y.m(e,null),c=!0},p(S,[R]){const Q={};!a&&R&4&&(a=!0,Q.items=S[2],Se(()=>a=!1)),!o&&R&1&&(o=!0,Q.value=S[0],Se(()=>o=!1)),n.$set(Q);const G={};R&8&&(G.items=S[3]),!p&&R&2&&(p=!0,G.value=S[1],Se(()=>p=!1)),w.$set(G),S[4].years?Y?Y.p(S,R):(Y=Je(S),Y.c(),Y.m(e,null)):Y&&(Y.d(1),Y=null)},i(S){c||(C(n.$$.fragment,S),C(w.$$.fragment,S),c=!0)},o(S){N(n.$$.fragment,S),N(w.$$.fragment,S),c=!1},d(S){S&&h(e),x(n),x(w),Y&&Y.d()}}}function qt(i,e,l){let t;U(i,re,d=>l(4,t=d));let{startYear:r,endYear:s}=e;const n=ht();let a={value:r,label:r.toString()},o={value:s,label:s.toString()},u=pe(r,s).map(d=>({value:d,label:d.toString()})),D=pe(r+1,s+1).map(d=>({value:d,label:d.toString()}));function m(d){l(3,D=pe(d.detail.value+1,s+1).map(k=>({value:k,label:k.toString()}))),!(a.value===r&&o.value===s)&&w(a.value,o.value)}function $(d){l(2,u=pe(r,d.detail.value).map(k=>({value:k,label:k.toString()}))),!(a.value===r&&o.value===s)&&w(a.value,o.value)}function v(){l(2,u=pe(r,s).map(d=>({value:d,label:d.toString()}))),l(3,D=pe(r+1,s+1).map(d=>({value:d,label:d.toString()}))),l(0,a={value:r,label:r.toString()}),l(1,o={value:s,label:s.toString()}),p()}function w(d,k){n("updateCf",{start:d,end:k})}function p(){n("resetCf")}function f(d){u=d,l(2,u)}function c(d){a=d,l(0,a)}function g(d){o=d,l(1,o)}return i.$$set=d=>{"startYear"in d&&l(8,r=d.startYear),"endYear"in d&&l(9,s=d.endYear)},[a,o,u,D,t,m,$,v,r,s,f,c,g]}class Bt extends fe{constructor(e){super();ue(this,e,qt,Ft,de,{startYear:8,endYear:9})}}function Ke(i,e,l){const t=i.slice();t[12]=e[l];const r=t[4][t[0][0]].find(s=>s.id===t[12].key);return t[13]=r,t}function Qe(i){let e;return{c(){e=E("i"),this.h()},l(l){e=y(l,"I",{class:!0}),I(e).forEach(h),this.h()},h(){b(e,"class","bi bi-eraser")},m(l,t){F(l,e,t)},d(l){l&&h(e)}}}function Ue(i,e){let l,t,r=e[13].fields.Name+"",s,n,a,o=e[12].value+"",u,D,m,$,v;function w(){return e[9](e[12])}return{key:i,first:null,c(){l=E("div"),t=E("div"),s=M(r),n=B(),a=E("div"),u=M(o),D=B(),this.h()},l(p){l=y(p,"DIV",{class:!0,style:!0});var f=I(l);t=y(f,"DIV",{});var c=I(t);s=j(c,r),c.forEach(h),n=O(f),a=y(f,"DIV",{});var g=I(a);u=j(g,o),g.forEach(h),D=O(f),f.forEach(h),this.h()},h(){b(l,"class","facet d-flex justify-content-between px-2 pt-1 mb-1 rounded cursor-pointer svelte-6tbqyh"),b(l,"style",m=`padding-bottom:${e[5](e[12].value)}px`),oe(l,"active",e[3][e[0][0]]&&e[3][e[0][0]].includes(e[12].key)),oe(l,"disabled",e[12].value===0),this.first=l},m(p,f){F(p,l,f),_(l,t),_(t,s),_(l,n),_(l,a),_(a,u),_(l,D),$||(v=ge(l,"click",w),$=!0)},p(p,f){e=p,f&19&&r!==(r=e[13].fields.Name+"")&&te(s,r),f&2&&o!==(o=e[12].value+"")&&te(u,o),f&2&&m!==(m=`padding-bottom:${e[5](e[12].value)}px`)&&b(l,"style",m),f&11&&oe(l,"active",e[3][e[0][0]]&&e[3][e[0][0]].includes(e[12].key)),f&2&&oe(l,"disabled",e[12].value===0)},d(p){p&&h(l),$=!1,v()}}}function Ot(i){let e,l,t=i[0][0]+"",r,s,n,a,o,u=[],D=new Map,m,$,v=i[3][i[0][0]]&&Qe(),w=i[1];const p=f=>f[12].key;for(let f=0;f<w.length;f+=1){let c=Ke(i,w,f),g=p(c);D.set(g,u[f]=Ue(g,c))}return{c(){e=E("div"),l=E("div"),r=M(t),s=B(),n=E("div"),v&&v.c(),a=B(),o=E("div");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=y(f,"DIV",{class:!0});var c=I(e);l=y(c,"DIV",{class:!0});var g=I(l);r=j(g,t),s=O(g),n=y(g,"DIV",{class:!0});var d=I(n);v&&v.l(d),d.forEach(h),g.forEach(h),a=O(c),o=y(c,"DIV",{class:!0});var k=I(o);for(let A=0;A<u.length;A+=1)u[A].l(k);k.forEach(h),c.forEach(h),this.h()},h(){b(n,"class","cursor-pointer ms-auto"),b(l,"class","title d-flex mb-2 bg-white position-sticky top-0 svelte-6tbqyh"),b(o,"class","d-flex flex-column"),b(e,"class","groupContainer svelte-6tbqyh")},m(f,c){F(f,e,c),_(e,l),_(l,r),_(l,s),_(l,n),v&&v.m(n,null),_(e,a),_(e,o);for(let g=0;g<u.length;g+=1)u[g].m(o,null);m||($=ge(n,"click",i[8]),m=!0)},p(f,[c]){c&1&&t!==(t=f[0][0]+"")&&te(r,t),f[3][f[0][0]]?v||(v=Qe(),v.c(),v.m(n,null)):v&&(v.d(1),v=null),c&127&&(w=f[1],u=vt(u,c,p,1,f,w,D,o,pt,Ue,null,Ke))},i:ne,o:ne,d(f){f&&h(e),v&&v.d();for(let c=0;c<u.length;c+=1)u[c].d();m=!1,$()}}}function Pt(i,e,l){let t,r,s,n;U(i,Ce,p=>l(2,r=p)),U(i,re,p=>l(3,s=p)),U(i,Ne,p=>l(4,n=p));let{group:a}=e;const o=ht(),u=gt().domain([1,a[1].top(1)[0].value]).range([4,60]).clamp(!0),D=Object.assign({},...a[1].top(1/0).map((p,f)=>({[p.key]:f})));function m(p,f,c){o("filterCf",{key:p,dim:f,value:c})}function $(p,f){o("resetCf",{key:p,dim:f})}const v=()=>$(a[0],r.dims.get(a[0])),w=p=>{m(a[0],r.dims.get(a[0]),p.key)};return i.$$set=p=>{"group"in p&&l(0,a=p.group)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=[...a[1].all()].sort((p,f)=>mt(D[p.key],D[f.key])))},[a,t,r,s,n,u,m,$,v,w]}class Ht extends fe{constructor(e){super();ue(this,e,Pt,Ot,de,{group:0})}}function We(i,e,l){const t=i.slice();return t[14]=e[l],t}function Xe(i){let e,l;return e=new Bt({props:{startYear:i[2],endYear:i[1]}}),e.$on("resetCf",i[8]),e.$on("updateCf",i[9]),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r&4&&(s.startYear=t[2]),r&2&&(s.endYear=t[1]),e.$set(s)},i(t){l||(C(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Ze(i){let e,l;return e=new Ht({props:{group:i[14]}}),e.$on("filterCf",i[10]),e.$on("resetCf",i[11]),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r&1&&(s.group=t[14]),e.$set(s)},i(t){l||(C(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Lt(i){let e,l,t,r,s,n,a=i[2]&&i[1]&&Xe(i),o=i[0],u=[];for(let m=0;m<o.length;m+=1)u[m]=Ze(We(i,o,m));const D=m=>N(u[m],1,1,()=>{u[m]=null});return{c(){e=E("div"),l=E("div"),a&&a.c(),t=B(),r=E("div");for(let m=0;m<u.length;m+=1)u[m].c();this.h()},l(m){e=y(m,"DIV",{class:!0});var $=I(e);l=y($,"DIV",{class:!0});var v=I(l);a&&a.l(v),t=O(v),r=y(v,"DIV",{class:!0});var w=I(r);for(let p=0;p<u.length;p+=1)u[p].l(w);w.forEach(h),v.forEach(h),$.forEach(h),this.h()},h(){b(r,"class","groupsContainer mt-3 d-inline-flex svelte-pkhbsc"),b(l,"class","px-4 pt-4"),b(e,"class","border border-dark rounded my-2 ")},m(m,$){F(m,e,$),_(e,l),a&&a.m(l,null),_(l,t),_(l,r);for(let v=0;v<u.length;v+=1)u[v].m(r,null);n=!0},p(m,[$]){if(m[2]&&m[1]?a?(a.p(m,$),$&6&&C(a,1)):(a=Xe(m),a.c(),C(a,1),a.m(l,t)):a&&(se(),N(a,1,1,()=>{a=null}),ie()),$&73){o=m[0];let v;for(v=0;v<o.length;v+=1){const w=We(m,o,v);u[v]?(u[v].p(w,$),C(u[v],1)):(u[v]=Ze(w),u[v].c(),C(u[v],1),u[v].m(r,null))}for(se(),v=o.length;v<u.length;v+=1)D(v);ie()}},i(m){if(!n){C(a);for(let $=0;$<o.length;$+=1)C(u[$]);Ee(()=>{s||(s=$e(e,je,{},!0)),s.run(1)}),n=!0}},o(m){N(a),u=u.filter(Boolean);for(let $=0;$<u.length;$+=1)N(u[$]);s||(s=$e(e,je,{},!1)),s.run(0),n=!1},d(m){m&&h(e),a&&a.d(),ye(u,m),m&&s&&s.end()}}}function Mt(i,e,l){let t,r,s,n,a;U(i,Ce,c=>l(7,n=c)),U(i,re,c=>l(12,a=c));function o(){l(0,t=[...Array.from(n.groups)])}function u(c,g,d){if(!a[c])re.update(k=>(k[c]=[d],k));else{const k=a[c].findIndex(A=>A===d);re.update(A=>(k===-1?A[c].push(d):A[c].splice(k,1),A[c].length||delete A[c],A))}a[c]&&a[c].length?g.filterFunction(k=>a[c].includes(k)):g.filterAll(),o()}function D(c){re.update(g=>(g.years=c.detail,g)),n.dims.get("Start year").filterFunction(g=>g>=c.detail.start),n.dims.get("End year").filterFunction(g=>g<=c.detail.end),o()}function m(){n.dims.get("Start year").filterAll(),n.dims.get("End year").filterAll(),re.update(c=>(delete c.years,c)),o()}function $(c,g){g.filterAll(),re.update(d=>(delete d[c],d)),o()}const v=()=>m(),w=c=>D(c),p=c=>u(c.detail.key,c.detail.dim,c.detail.value),f=c=>$(c.detail.key,c.detail.dim);return i.$$.update=()=>{i.$$.dirty&128&&l(0,t=[...Array.from(n.groups)]),i.$$.dirty&128&&l(2,r=n.dims.get("Start year").bottom(1)[0]?n.dims.get("Start year").bottom(1)[0]["Start year"]:null),i.$$.dirty&128&&l(1,s=n.dims.get("End year").top(1)[0]?n.dims.get("End year").top(1)[0]["End year"]:null)},[t,s,r,u,D,m,$,n,v,w,p,f]}class jt extends fe{constructor(e){super();ue(this,e,Mt,Lt,de,{})}}function xe(i,e,l){const t=i.slice();return t[4]=e[l][0],t[5]=e[l][1],t}function et(i,e,l){const t=i.slice();return t[8]=e[l],t}function Gt(i){let e,l=i[5].start+"",t,r,s=i[5].end+"",n;return{c(){e=E("span"),t=M(l),r=M(" - "),n=M(s),this.h()},l(a){e=y(a,"SPAN",{class:!0});var o=I(e);t=j(o,l),r=j(o," - "),n=j(o,s),o.forEach(h),this.h()},h(){b(e,"class","badge rounded-pill bg-dark")},m(a,o){F(a,e,o),_(e,t),_(e,r),_(e,n)},p(a,o){o&1&&l!==(l=a[5].start+"")&&te(t,l),o&1&&s!==(s=a[5].end+"")&&te(n,s)},d(a){a&&h(e)}}}function zt(i){let e,l=i[5],t=[];for(let r=0;r<l.length;r+=1)t[r]=lt(et(i,l,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=le()},l(r){for(let s=0;s<t.length;s+=1)t[s].l(r);e=le()},m(r,s){for(let n=0;n<t.length;n+=1)t[n].m(r,s);F(r,e,s)},p(r,s){if(s&3){l=r[5];let n;for(n=0;n<l.length;n+=1){const a=et(r,l,n);t[n]?t[n].p(a,s):(t[n]=lt(a),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(r){ye(t,r),r&&h(e)}}}function tt(i){let e,l=(i[1][i[4]]&&i[1][i[4]].find(r).fields.Name)+"",t;function r(...s){return i[3](i[8],...s)}return{c(){e=E("span"),t=M(l),this.h()},l(s){e=y(s,"SPAN",{class:!0});var n=I(e);t=j(n,l),n.forEach(h),this.h()},h(){b(e,"class","badge rounded-pill bg-dark me-1")},m(s,n){F(s,e,n),_(e,t)},p(s,n){i=s,n&3&&l!==(l=(i[1][i[4]]&&i[1][i[4]].find(r).fields.Name)+"")&&te(t,l)},d(s){s&&h(e)}}}function lt(i){let e,l=i[8]&&tt(i);return{c(){l&&l.c(),e=le()},l(t){l&&l.l(t),e=le()},m(t,r){l&&l.m(t,r),F(t,e,r)},p(t,r){t[8]?l?l.p(t,r):(l=tt(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&h(e)}}}function rt(i){let e;function l(s,n){if(s[5]&&s[5].length>0)return zt;if(s[5])return Gt}let t=l(i),r=t&&t(i);return{c(){r&&r.c(),e=le()},l(s){r&&r.l(s),e=le()},m(s,n){r&&r.m(s,n),F(s,e,n)},p(s,n){t===(t=l(s))&&r?r.p(s,n):(r&&r.d(1),r=t&&t(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r&&r.d(s),s&&h(e)}}}function Tt(i){let e,l=i[0],t=[];for(let r=0;r<l.length;r+=1)t[r]=rt(xe(i,l,r));return{c(){e=E("div");for(let r=0;r<t.length;r+=1)t[r].c()},l(r){e=y(r,"DIV",{});var s=I(e);for(let n=0;n<t.length;n+=1)t[n].l(s);s.forEach(h)},m(r,s){F(r,e,s);for(let n=0;n<t.length;n+=1)t[n].m(e,null)},p(r,[s]){if(s&3){l=r[0];let n;for(n=0;n<l.length;n+=1){const a=xe(r,l,n);t[n]?t[n].p(a,s):(t[n]=rt(a),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},i:ne,o:ne,d(r){r&&h(e),ye(t,r)}}}function Jt(i,e,l){let t,r,s;U(i,re,a=>l(2,r=a)),U(i,Ne,a=>l(1,s=a));const n=(a,o)=>o.id===a;return i.$$.update=()=>{i.$$.dirty&4&&l(0,t=[...Object.entries(r)])},[t,s,r,n]}class Kt extends fe{constructor(e){super();ue(this,e,Jt,Tt,de,{})}}function Qt(i){let e,l;return{c(){e=E("span"),l=M("New"),this.h()},l(t){e=y(t,"SPAN",{class:!0});var r=I(e);l=j(r,"New"),r.forEach(h),this.h()},h(){b(e,"class","new badge bg-light svelte-9qoxcf")},m(t,r){F(t,e,r),_(e,l)},d(t){t&&h(e)}}}function st(i){let e,l;return e=new Nt({props:{url:i[1],$$slots:{default:[Ut]},$$scope:{ctx:i}}}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r&2&&(s.url=t[1]),r&35&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){l||(C(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Ut(i){let e,l,t;return{c(){e=E("img"),this.h()},l(r){e=y(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){b(e,"class","img-fluid shadow thumb svelte-9qoxcf"),Ge(e.src,l=i[1])||b(e,"src",l),b(e,"alt",t=i[0]["Name of collection"])},m(r,s){F(r,e,s)},p(r,s){s&2&&!Ge(e.src,l=r[1])&&b(e,"src",l),s&1&&t!==(t=r[0]["Name of collection"])&&b(e,"alt",t)},d(r){r&&h(e)}}}function it(i){let e,l=i[2].fields.Name+"",t;return{c(){e=E("h6"),t=M(l),this.h()},l(r){e=y(r,"H6",{class:!0});var s=I(e);t=j(s,l),s.forEach(h),this.h()},h(){b(e,"class","fst-italic host svelte-9qoxcf")},m(r,s){F(r,e,s),_(e,t)},p(r,s){s&4&&l!==(l=r[2].fields.Name+"")&&te(t,l)},d(r){r&&h(e)}}}function Wt(i){let e,l,t,r,s,n,a,o=i[0]["Name of collection"]+"",u,D,m,$,v,w,p,f=i[3]&&Qt(),c=i[1]&&st(i),g=i[2]&&it(i);return w=new Dt({props:{record:i[0]}}),{c(){e=E("div"),f&&f.c(),l=B(),c&&c.c(),t=B(),r=E("div"),s=E("div"),n=E("h5"),a=E("a"),u=M(o),m=B(),g&&g.c(),$=B(),v=E("div"),W(w.$$.fragment),this.h()},l(d){e=y(d,"DIV",{class:!0});var k=I(e);f&&f.l(k),l=O(k),c&&c.l(k),t=O(k),r=y(k,"DIV",{class:!0});var A=I(r);s=y(A,"DIV",{class:!0});var K=I(s);n=y(K,"H5",{class:!0});var Y=I(n);a=y(Y,"A",{class:!0,href:!0});var S=I(a);u=j(S,o),S.forEach(h),Y.forEach(h),m=O(K),g&&g.l(K),K.forEach(h),$=O(A),v=y(A,"DIV",{class:!0});var R=I(v);X(w.$$.fragment,R),R.forEach(h),A.forEach(h),k.forEach(h),this.h()},h(){b(a,"class","text-decoration-none text-body"),b(a,"href",D=`${Te}/resource/${i[0].id}`),b(n,"class","title svelte-9qoxcf"),b(s,"class","me-1"),b(v,"class","ms-auto"),b(r,"class","d-flex my-2 w-100"),b(e,"class","h-100 position-relative")},m(d,k){F(d,e,k),f&&f.m(e,null),_(e,l),c&&c.m(e,null),_(e,t),_(e,r),_(r,s),_(s,n),_(n,a),_(a,u),_(s,m),g&&g.m(s,null),_(r,$),_(r,v),Z(w,v,null),p=!0},p(d,[k]){d[1]?c?(c.p(d,k),k&2&&C(c,1)):(c=st(d),c.c(),C(c,1),c.m(e,t)):c&&(se(),N(c,1,1,()=>{c=null}),ie()),(!p||k&1)&&o!==(o=d[0]["Name of collection"]+"")&&te(u,o),(!p||k&1&&D!==(D=`${Te}/resource/${d[0].id}`))&&b(a,"href",D),d[2]?g?g.p(d,k):(g=it(d),g.c(),g.m(s,null)):g&&(g.d(1),g=null);const A={};k&1&&(A.record=d[0]),w.$set(A)},i(d){p||(C(c),C(w.$$.fragment,d),p=!0)},o(d){N(c),N(w.$$.fragment,d),p=!1},d(d){d&&h(e),f&&f.d(),c&&c.d(),g&&g.d(),x(w)}}}function Xt(i,e,l){let t,r;U(i,Ne,o=>l(4,r=o));let{record:s}=e;const n=bt.count(new Date(s.Created),new Date)<=14;let a;return s.Image&&s.Image.length>0&&(a=s.Image[0].thumbnails.large.url),i.$$set=o=>{"record"in o&&l(0,s=o.record)},i.$$.update=()=>{i.$$.dirty&17&&l(2,t=r["Host institution"]&&r["Host institution"].find(o=>o.id===s["Host institution"][0]))},[s,a,t,n,r]}class Zt extends fe{constructor(e){super();ue(this,e,Xt,Wt,de,{record:0})}}function nt(i,e,l){const t=i.slice();return t[1]=e[l],t}function at(i,e){let l,t,r,s;return t=new Zt({props:{record:e[1]}}),{key:i,first:null,c(){l=E("div"),W(t.$$.fragment),r=B(),this.h()},l(n){l=y(n,"DIV",{class:!0});var a=I(l);X(t.$$.fragment,a),r=O(a),a.forEach(h),this.h()},h(){b(l,"class","col-3 my-2"),this.first=l},m(n,a){F(n,l,a),Z(t,l,null),_(l,r),s=!0},p(n,a){e=n;const o={};a&1&&(o.record=e[1]),t.$set(o)},i(n){s||(C(t.$$.fragment,n),s=!0)},o(n){N(t.$$.fragment,n),s=!1},d(n){n&&h(l),x(t)}}}function xt(i){let e=[],l=new Map,t,r,s=i[0];const n=a=>a[1].id;for(let a=0;a<s.length;a+=1){let o=nt(i,s,a),u=n(o);l.set(u,e[a]=at(u,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=le()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);t=le()},m(a,o){for(let u=0;u<e.length;u+=1)e[u].m(a,o);F(a,t,o),r=!0},p(a,[o]){o&1&&(s=a[0],se(),e=vt(e,o,n,1,a,s,l,t.parentNode,kt,at,t,nt),ie())},i(a){if(!r){for(let o=0;o<s.length;o+=1)C(e[o]);r=!0}},o(a){for(let o=0;o<e.length;o+=1)N(e[o]);r=!1},d(a){for(let o=0;o<e.length;o+=1)e[o].d(a);a&&h(t)}}}function el(i,e,l){let{records:t=[]}=e;return i.$$set=r=>{"records"in r&&l(0,t=r.records)},[t]}class tl extends fe{constructor(e){super();ue(this,e,el,xt,de,{records:0})}}function ot(i,e,l){const t=i.slice();return t[13]=e[l],t}function ct(i){let e,l;return e=new jt({}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},i(t){l||(C(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function ft(i){let e,l=i[13].label+"",t,r,s;return{c(){e=E("option"),t=M(l),r=B(),this.h()},l(n){e=y(n,"OPTION",{});var a=I(e);t=j(a,l),r=O(a),a.forEach(h),this.h()},h(){e.__value=s=i[13].value,e.value=e.__value},m(n,a){F(n,e,a),_(e,t),_(e,r)},p:ne,d(n){n&&h(e)}}}function ll(i){let e,l,t;return{c(){e=E("div"),l=E("h6"),t=M("No results! Remove some filters"),this.h()},l(r){e=y(r,"DIV",{class:!0});var s=I(e);l=y(s,"H6",{class:!0});var n=I(l);t=j(n,"No results! Remove some filters"),n.forEach(h),s.forEach(h),this.h()},h(){b(l,"class","text-center"),b(e,"class","col-12")},m(r,s){F(r,e,s),_(e,l),_(l,t)},p:ne,i:ne,o:ne,d(r){r&&h(e)}}}function rl(i){let e,l,t,r;const s=[il,sl],n=[];function a(o,u){return o[6]==="grid"?0:1}return e=a(i),l=n[e]=s[e](i),{c(){l.c(),t=le()},l(o){l.l(o),t=le()},m(o,u){n[e].m(o,u),F(o,t,u),r=!0},p(o,u){let D=e;e=a(o),e===D?n[e].p(o,u):(se(),N(n[D],1,1,()=>{n[D]=null}),ie(),l=n[e],l?l.p(o,u):(l=n[e]=s[e](o),l.c()),C(l,1),l.m(t.parentNode,t))},i(o){r||(C(l),r=!0)},o(o){N(l),r=!1},d(o){n[e].d(o),o&&h(t)}}}function sl(i){let e,l;return e=new At({props:{records:i[2]}}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r&4&&(s.records=t[2]),e.$set(s)},i(t){l||(C(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function il(i){let e,l;return e=new tl({props:{records:i[2]}}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r&4&&(s.records=t[2]),e.$set(s)},i(t){l||(C(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function ut(i){let e,l,t,r,s,n;return{c(){e=E("div"),this.h()},l(a){e=y(a,"DIV",{class:!0}),I(e).forEach(h),this.h()},h(){b(e,"class","overlay position-absolute top-0 left-0 h-100 w-100 bg-dark bg-opacity-50 cursor-pointer svelte-7s8aav"),oe(e,"resourceActive",i[3])},m(a,o){F(a,e,o),r=!0,s||(n=ge(e,"click",i[10]),s=!0)},p(a,o){o&8&&oe(e,"resourceActive",a[3])},i(a){r||(Ee(()=>{t&&t.end(1),l=Et(e,wt,{delay:300}),l.start()}),r=!0)},o(a){l&&l.invalidate(),t=$t(e,al,{duration:300}),r=!1},d(a){a&&h(e),a&&t&&t.end(),s=!1,n()}}}function dt(i){let e,l,t,r;return l=new Yt({props:{id:i[3],fromExplore:!0}}),{c(){e=E("div"),W(l.$$.fragment),this.h()},l(s){e=y(s,"DIV",{class:!0});var n=I(e);X(l.$$.fragment,n),n.forEach(h),this.h()},h(){b(e,"class","wrapperResource flex-shrink-0 flex-grow-0 w-100 border-start border-dark svelte-7s8aav")},m(s,n){F(s,e,n),Z(l,e,null),r=!0},p(s,n){const a={};n&8&&(a.id=s[3]),l.$set(a)},i(s){r||(C(l.$$.fragment,s),Ee(()=>{t||(t=$e(e,_t,{duration:300},!0)),t.run(1)}),r=!0)},o(s){N(l.$$.fragment,s),t||(t=$e(e,_t,{duration:300},!1)),t.run(0),r=!1},d(s){s&&h(e),x(l),s&&t&&t.end()}}}function nl(i){let e,l,t,r,s,n,a,o,u,D,m=i[1].size()+"",$,v,w,p,f,c,g,d,k,A,K,Y,S,R,Q,G,J,_e,be,he,Ie,Ye,z=i[5]&&ct(),ve=i[7],T=[];for(let V=0;V<ve.length;V+=1)T[V]=ft(ot(i,ve,V));S=new Kt({});const Ae=[rl,ll],ae=[];function Re(V,q){return V[2].length?0:1}G=Re(i),J=ae[G]=Ae[G](i);let H=i[3]&&ut(i),L=i[3]&&dt(i);return{c(){e=E("div"),l=E("div"),t=E("div"),z&&z.c(),r=B(),s=E("div"),n=E("div"),a=E("p"),o=M("Displaying: "),u=M(i[4]),D=M(" / "),$=M(m),v=M(" archives"),w=B(),p=E("div"),f=E("label"),c=M("Sort by:"),g=B(),d=E("div"),k=E("select");for(let V=0;V<T.length;V+=1)T[V].c();A=B(),K=E("div"),Y=E("div"),W(S.$$.fragment),R=B(),Q=E("div"),J.c(),_e=B(),H&&H.c(),be=B(),L&&L.c(),this.h()},l(V){e=y(V,"DIV",{class:!0});var q=I(e);l=y(q,"DIV",{class:!0});var ee=I(l);t=y(ee,"DIV",{class:!0});var P=I(t);z&&z.l(P),r=O(P),s=y(P,"DIV",{class:!0});var ce=I(s);n=y(ce,"DIV",{class:!0});var Fe=I(n);a=y(Fe,"P",{class:!0});var me=I(a);o=j(me,"Displaying: "),u=j(me,i[4]),D=j(me," / "),$=j(me,m),v=j(me," archives"),me.forEach(h),Fe.forEach(h),w=O(ce),p=y(ce,"DIV",{class:!0});var ke=I(p);f=y(ke,"LABEL",{class:!0,for:!0});var qe=I(f);c=j(qe,"Sort by:"),qe.forEach(h),g=O(ke),d=y(ke,"DIV",{class:!0});var Be=I(d);k=y(Be,"SELECT",{id:!0,class:!0});var Oe=I(k);for(let we=0;we<T.length;we+=1)T[we].l(Oe);Oe.forEach(h),Be.forEach(h),ke.forEach(h),ce.forEach(h),A=O(P),K=y(P,"DIV",{class:!0});var Pe=I(K);Y=y(Pe,"DIV",{class:!0});var He=I(Y);X(S.$$.fragment,He),He.forEach(h),Pe.forEach(h),R=O(P),Q=y(P,"DIV",{class:!0});var Le=I(Q);J.l(Le),Le.forEach(h),P.forEach(h),ee.forEach(h),_e=O(q),H&&H.l(q),be=O(q),L&&L.l(q),q.forEach(h),this.h()},h(){b(a,"class","my-0 BespokeSerif me-2"),b(n,"class","col-auto"),b(f,"class","col-auto me-2 BespokeSerif"),b(f,"for","sort-select"),b(k,"id","sort-select"),b(k,"class","form-select rounded-pill border-dark"),i[0]===void 0&&Ee(()=>i[9].call(k)),b(d,"class","col-auto"),b(p,"class","col-auto ms-auto d-flex align-items-center"),b(s,"class","row align-items-center mt-3"),b(Y,"class","col-12"),b(K,"class","row"),b(Q,"class","row mt-2"),b(t,"class","container"),b(l,"class","wrapperChild flex-shrink-0 flex-grow-0 w-100 h-100 position-relative svelte-7s8aav"),oe(l,"resourceActive",i[3]),b(e,"class","wrapper vw-100 d-flex svelte-7s8aav")},m(V,q){F(V,e,q),_(e,l),_(l,t),z&&z.m(t,null),_(t,r),_(t,s),_(s,n),_(n,a),_(a,o),_(a,u),_(a,D),_(a,$),_(a,v),_(s,w),_(s,p),_(p,f),_(f,c),_(p,g),_(p,d),_(d,k);for(let ee=0;ee<T.length;ee+=1)T[ee].m(k,null);ze(k,i[0]),_(t,A),_(t,K),_(K,Y),Z(S,Y,null),_(t,R),_(t,Q),ae[G].m(Q,null),_(e,_e),H&&H.m(e,null),_(e,be),L&&L.m(e,null),he=!0,Ie||(Ye=ge(k,"change",i[9]),Ie=!0)},p(V,[q]){if(V[5]?z?q&32&&C(z,1):(z=ct(),z.c(),C(z,1),z.m(t,r)):z&&(se(),N(z,1,1,()=>{z=null}),ie()),(!he||q&16)&&te(u,V[4]),(!he||q&2)&&m!==(m=V[1].size()+"")&&te($,m),q&128){ve=V[7];let P;for(P=0;P<ve.length;P+=1){const ce=ot(V,ve,P);T[P]?T[P].p(ce,q):(T[P]=ft(ce),T[P].c(),T[P].m(k,null))}for(;P<T.length;P+=1)T[P].d(1);T.length=ve.length}q&129&&ze(k,V[0]);let ee=G;G=Re(V),G===ee?ae[G].p(V,q):(se(),N(ae[ee],1,1,()=>{ae[ee]=null}),ie(),J=ae[G],J?J.p(V,q):(J=ae[G]=Ae[G](V),J.c()),C(J,1),J.m(Q,null)),q&8&&oe(l,"resourceActive",V[3]),V[3]?H?(H.p(V,q),q&8&&C(H,1)):(H=ut(V),H.c(),C(H,1),H.m(e,be)):H&&(se(),N(H,1,1,()=>{H=null}),ie()),V[3]?L?(L.p(V,q),q&8&&C(L,1)):(L=dt(V),L.c(),C(L,1),L.m(e,null)):L&&(se(),N(L,1,1,()=>{L=null}),ie())},i(V){he||(C(z),C(S.$$.fragment,V),C(J),C(H),C(L),he=!0)},o(V){N(z),N(S.$$.fragment,V),N(J),N(H),N(L),he=!1},d(V){V&&h(e),z&&z.d(),ye(T,V),x(S),ae[G].d(),H&&H.d(),L&&L.d(),Ie=!1,Ye()}}}function _t(i,{duration:e}){return{duration:e,css:l=>`
					transform: translate(-${l*70}%);`}}function al(i,{duration:e}){return{duration:e,css:l=>`
					transform: translate(-${l*70}%);opacity: ${l*1};`}}function ol(i,e,l){let t,r,s,n,a;U(i,Rt,f=>l(11,r=f)),U(i,Ce,f=>l(1,s=f)),U(i,St,f=>l(5,n=f)),U(i,Ct,f=>l(6,a=f));const o=[{value:"Created",label:"Most recent"},{value:"Name of collection",label:"Alphabetically"}];let u,D=[];function m(f,c){const g=c.allFiltered()||[];g.sort((d,k)=>f?f==="Created"?yt(d[f],k[f]):mt(d[f],k[f]):1),l(2,D=[...g])}let $;Vt(async({to:f,cancel:c})=>{if($)return;const g=f.pathname.split("/");if(g[g.length-2]==="resource"){c();const d=g[g.length-1];l(3,$=d),history.pushState({},"",`${r.url.origin}/resource/${d}`)}});function v(){l(3,$=null),r.url.origin,history.pushState({},"",`${r.url.origin}/explore`)}function w(){u=It(this),l(0,u),l(7,o)}const p=()=>v();return i.$$.update=()=>{i.$$.dirty&2&&l(4,t=s.size()),i.$$.dirty&3&&m(u,s),i.$$.dirty&3&&s.onChange(f=>{m(u,s),l(4,t=s.allFiltered().length)})},[u,s,D,$,t,n,a,o,v,w,p]}class gl extends fe{constructor(e){super();ue(this,e,ol,nl,de,{})}}export{gl as default};
