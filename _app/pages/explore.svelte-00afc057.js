import{S as he,i as _e,s as me,al as xe,ai as Be,am as Me,e as k,c as $,a as w,d as v,b,g as B,G as _,H as fe,I as oe,t as M,k as P,w as Q,h as j,m as q,x as W,y as Z,an as je,q as Y,o as F,B as x,J as K,ao as Ne,ap as Ee,F as U,j as te,a8 as Le,aq as At,ar as Rt,as as Oe,N as Ie,O as we,at as Se,n as ne,p as ae,L as Ft,au as et,a7 as ye,l as ue,av as Pt,K as tt,a9 as qt,aw as Bt,ax as lt,ay as Mt,az as jt,aA as Lt,P as Ot}from"../chunks/vendor-3cd2b798.js";import{e as ie,g as Ye,c as Ae,a as Ht,v as Gt}from"../chunks/stores-82a3d97c.js";import{S as Tt}from"../chunks/SwitchView-60886d43.js";import{B as zt,b as Xt}from"../chunks/Bookmark-a636b1ca.js";import{I as Jt,R as Kt}from"../chunks/Resource-32c87e8d.js";import{b as rt}from"../chunks/paths-396f020f.js";import{L as Ut}from"../chunks/ListView-edb5b8d1.js";import{p as Qt}from"../chunks/stores-194d6628.js";import"../chunks/singletons-d1fb5791.js";import"../chunks/api-67b41fb1.js";import"../chunks/Responsive-1a565f31.js";function st(i){let e,t,l,r;return{c(){e=k("div"),t=k("i"),this.h()},l(s){e=$(s,"DIV",{class:!0});var n=w(e);t=$(n,"I",{class:!0}),w(t).forEach(v),n.forEach(v),this.h()},h(){b(t,"class","bi bi-eraser"),b(e,"class","ms-2 cursor-pointer")},m(s,n){B(s,e,n),_(e,t),l||(r=fe(e,"click",i[7]),l=!0)},p:oe,d(s){s&&v(e),l=!1,r()}}}function Wt(i){let e,t,l,r,s,n,a,o,u,E,V,N,I,d,h,c,g;function y(S){i[10](S)}function m(S){i[11](S)}let C={placeholder:"From",isClearable:!1,noOptionsMessage:"Year out of range"};i[2]!==void 0&&(C.items=i[2]),i[0]!==void 0&&(C.value=i[0]),n=new xe({props:C}),Be.push(()=>Me(n,"items",y)),Be.push(()=>Me(n,"value",m)),n.$on("select",i[5]);function f(S){i[12](S)}let D={placeholder:"to",items:i[3],isClearable:!1,noOptionsMessage:"Year out of range"};i[1]!==void 0&&(D.value=i[1]),d=new xe({props:D}),Be.push(()=>Me(d,"value",f)),d.$on("select",i[6]);let p=i[4].years&&st(i);return{c(){e=k("div"),t=k("div"),l=M("Period:"),r=P(),s=k("div"),Q(n.$$.fragment),u=P(),E=k("div"),V=M("-"),N=P(),I=k("div"),Q(d.$$.fragment),c=P(),p&&p.c(),this.h()},l(S){e=$(S,"DIV",{class:!0});var R=w(e);t=$(R,"DIV",{class:!0});var z=w(t);l=j(z,"Period:"),z.forEach(v),r=q(R),s=$(R,"DIV",{class:!0});var ee=w(s);W(n.$$.fragment,ee),ee.forEach(v),u=q(R),E=$(R,"DIV",{class:!0});var le=w(E);V=j(le,"-"),le.forEach(v),N=q(R),I=$(R,"DIV",{class:!0});var X=w(I);W(d.$$.fragment,X),X.forEach(v),c=q(R),p&&p.l(R),R.forEach(v),this.h()},h(){b(t,"class","me-2"),b(s,"class","select svelte-15cl60y"),b(E,"class","mx-2"),b(I,"class","select svelte-15cl60y"),b(e,"class","d-flex align-items-center themed svelte-15cl60y")},m(S,R){B(S,e,R),_(e,t),_(t,l),_(e,r),_(e,s),Z(n,s,null),_(e,u),_(e,E),_(E,V),_(e,N),_(e,I),Z(d,I,null),_(e,c),p&&p.m(e,null),g=!0},p(S,[R]){const z={};!a&&R&4&&(a=!0,z.items=S[2],je(()=>a=!1)),!o&&R&1&&(o=!0,z.value=S[0],je(()=>o=!1)),n.$set(z);const ee={};R&8&&(ee.items=S[3]),!h&&R&2&&(h=!0,ee.value=S[1],je(()=>h=!1)),d.$set(ee),S[4].years?p?p.p(S,R):(p=st(S),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i(S){g||(Y(n.$$.fragment,S),Y(d.$$.fragment,S),g=!0)},o(S){F(n.$$.fragment,S),F(d.$$.fragment,S),g=!1},d(S){S&&v(e),x(n),x(d),p&&p.d()}}}function Zt(i,e,t){let l;K(i,ie,m=>t(4,l=m));let{startYear:r,endYear:s}=e;const n=Ne();let a={value:r,label:r.toString()},o={value:s,label:s.toString()},u=Ee(r,s).map(m=>({value:m,label:m.toString()})),E=Ee(r+1,s+1).map(m=>({value:m,label:m.toString()}));function V(m){t(3,E=Ee(m.detail.value+1,s+1).map(C=>({value:C,label:C.toString()}))),!(a.value===r&&o.value===s)&&d(a.value,o.value)}function N(m){t(2,u=Ee(r,m.detail.value).map(C=>({value:C,label:C.toString()}))),!(a.value===r&&o.value===s)&&d(a.value,o.value)}function I(){t(2,u=Ee(r,s).map(m=>({value:m,label:m.toString()}))),t(3,E=Ee(r+1,s+1).map(m=>({value:m,label:m.toString()}))),t(0,a={value:r,label:r.toString()}),t(1,o={value:s,label:s.toString()}),h()}function d(m,C){n("updateCf",{start:m,end:C})}function h(){n("resetCf")}function c(m){u=m,t(2,u)}function g(m){a=m,t(0,a)}function y(m){o=m,t(1,o)}return i.$$set=m=>{"startYear"in m&&t(8,r=m.startYear),"endYear"in m&&t(9,s=m.endYear)},[a,o,u,E,l,V,N,I,r,s,c,g,y]}class xt extends he{constructor(e){super();_e(this,e,Zt,Wt,me,{startYear:8,endYear:9})}}function it(i,e,t){const l=i.slice();l[11]=e[t];const r=l[1][l[0][0]].find(s=>s.id===l[11].key);return l[12]=r,l}function nt(i){let e;return{c(){e=k("i"),this.h()},l(t){e=$(t,"I",{class:!0}),w(e).forEach(v),this.h()},h(){b(e,"class","bi bi-eraser")},m(t,l){B(t,e,l)},d(t){t&&v(e)}}}function at(i,e){let t,l,r=e[12].fields.Name+"",s,n,a,o=e[11].value+"",u,E,V,N,I;function d(){return e[9](e[11])}return{key:i,first:null,c(){t=k("div"),l=k("div"),s=M(r),n=P(),a=k("div"),u=M(o),E=P(),this.h()},l(h){t=$(h,"DIV",{class:!0,style:!0});var c=w(t);l=$(c,"DIV",{});var g=w(l);s=j(g,r),g.forEach(v),n=q(c),a=$(c,"DIV",{});var y=w(a);u=j(y,o),y.forEach(v),E=q(c),c.forEach(v),this.h()},h(){b(t,"class","facet d-flex justify-content-between px-2 pt-1 mb-1 rounded cursor-pointer svelte-6tbqyh"),b(t,"style",V=`padding-bottom:${e[5](e[11].value)}px`),U(t,"active",e[4][e[0][0]]&&e[4][e[0][0]].includes(e[11].key)),U(t,"disabled",e[11].value===0),this.first=t},m(h,c){B(h,t,c),_(t,l),_(l,s),_(t,n),_(t,a),_(a,u),_(t,E),N||(I=fe(t,"click",d),N=!0)},p(h,c){e=h,c&7&&r!==(r=e[12].fields.Name+"")&&te(s,r),c&4&&o!==(o=e[11].value+"")&&te(u,o),c&4&&V!==(V=`padding-bottom:${e[5](e[11].value)}px`)&&b(t,"style",V),c&21&&U(t,"active",e[4][e[0][0]]&&e[4][e[0][0]].includes(e[11].key)),c&4&&U(t,"disabled",e[11].value===0)},d(h){h&&v(t),N=!1,I()}}}function el(i){let e,t,l=i[0][0]+"",r,s,n,a,o,u=[],E=new Map,V,N,I=i[4][i[0][0]]&&nt(),d=i[2];const h=c=>c[11].key;for(let c=0;c<d.length;c+=1){let g=it(i,d,c),y=h(g);E.set(y,u[c]=at(y,g))}return{c(){e=k("div"),t=k("div"),r=M(l),s=P(),n=k("div"),I&&I.c(),a=P(),o=k("div");for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){e=$(c,"DIV",{class:!0});var g=w(e);t=$(g,"DIV",{class:!0});var y=w(t);r=j(y,l),s=q(y),n=$(y,"DIV",{class:!0});var m=w(n);I&&I.l(m),m.forEach(v),y.forEach(v),a=q(g),o=$(g,"DIV",{class:!0});var C=w(o);for(let f=0;f<u.length;f+=1)u[f].l(C);C.forEach(v),g.forEach(v),this.h()},h(){b(n,"class","cursor-pointer ms-auto"),b(t,"class","title d-flex mb-2 bg-white position-sticky top-0 svelte-6tbqyh"),b(o,"class","d-flex flex-column"),b(e,"class","groupContainer svelte-6tbqyh")},m(c,g){B(c,e,g),_(e,t),_(t,r),_(t,s),_(t,n),I&&I.m(n,null),_(e,a),_(e,o);for(let y=0;y<u.length;y+=1)u[y].m(o,null);V||(N=fe(n,"click",i[8]),V=!0)},p(c,[g]){g&1&&l!==(l=c[0][0]+"")&&te(r,l),c[4][c[0][0]]?I||(I=nt(),I.c(),I.m(n,null)):I&&(I.d(1),I=null),g&127&&(d=c[2],u=Le(u,g,h,1,c,d,E,o,At,at,null,it))},i:oe,o:oe,d(c){c&&v(e),I&&I.d();for(let g=0;g<u.length;g+=1)u[g].d();V=!1,N()}}}function tl(i,e,t){let l,r,s,n;K(i,Ye,d=>t(1,r=d)),K(i,Ae,d=>t(3,s=d)),K(i,ie,d=>t(4,n=d));let{group:a}=e;const o=Ne(),u=Rt().domain([1,a[1].top(1)[0].value]).range([4,60]).clamp(!0);function E(d,h,c){o("filterCf",{key:d,dim:h,value:c})}function V(d,h){o("resetCf",{key:d,dim:h})}const N=()=>V(a[0],s.dims.get(a[0])),I=d=>{E(a[0],s.dims.get(a[0]),d.key)};return i.$$set=d=>{"group"in d&&t(0,a=d.group)},i.$$.update=()=>{i.$$.dirty&3&&t(2,l=[...a[1].all()].sort((d,h)=>Oe(r[a[0]].find(c=>c.id===d.key).fields.Name,r[a[0]].find(c=>c.id===h.key).fields.Name)))},[a,r,l,s,n,u,E,V,N,I]}class ll extends he{constructor(e){super();_e(this,e,tl,el,me,{group:0})}}function ot(i,e,t){const l=i.slice();l[13]=e[t];const r=l[1][l[0][0]].find(s=>s.id===l[13].key);return l[14]=r,l}function ct(i){let e;return{c(){e=k("i"),this.h()},l(t){e=$(t,"I",{class:!0}),w(e).forEach(v),this.h()},h(){b(e,"class","bi bi-eraser ms-2")},m(t,l){B(t,e,l)},d(t){t&&v(e)}}}function ft(i){let e,t=[],l=new Map,r,s,n=i[3];const a=o=>o[13].key;for(let o=0;o<n.length;o+=1){let u=ot(i,n,o),E=a(u);l.set(E,t[o]=ut(E,u))}return{c(){e=k("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=$(o,"DIV",{class:!0});var u=w(e);for(let E=0;E<t.length;E+=1)t[E].l(u);u.forEach(v),this.h()},h(){b(e,"class","d-flex flex-column")},m(o,u){B(o,e,u);for(let E=0;E<t.length;E+=1)t[E].m(e,null);s=!0},p(o,u){u&187&&(n=o[3],t=Le(t,u,a,1,o,n,l,e,At,ut,null,ot))},i(o){s||(Ie(()=>{r||(r=we(e,Se,{duration:300},!0)),r.run(1)}),s=!0)},o(o){r||(r=we(e,Se,{duration:300},!1)),r.run(0),s=!1},d(o){o&&v(e);for(let u=0;u<t.length;u+=1)t[u].d();o&&r&&r.end()}}}function ut(i,e){let t,l,r=e[14].fields.Name+"",s,n,a,o=e[13].value+"",u,E,V,N;function I(){return e[10](e[13])}return{key:i,first:null,c(){t=k("div"),l=k("div"),s=M(r),n=P(),a=k("div"),u=M(o),E=P(),this.h()},l(d){t=$(d,"DIV",{class:!0});var h=w(t);l=$(h,"DIV",{});var c=w(l);s=j(c,r),c.forEach(v),n=q(h),a=$(h,"DIV",{});var g=w(a);u=j(g,o),g.forEach(v),E=q(h),h.forEach(v),this.h()},h(){b(t,"class","facet d-flex justify-content-between px-2 pt-1 mb-1 rounded cursor-pointer svelte-lapn92"),U(t,"active",e[5][e[0][0]]&&e[5][e[0][0]].includes(e[13].key)),U(t,"disabled",e[13].value===0),this.first=t},m(d,h){B(d,t,h),_(t,l),_(l,s),_(t,n),_(t,a),_(a,u),_(t,E),V||(N=fe(t,"click",I),V=!0)},p(d,h){e=d,h&11&&r!==(r=e[14].fields.Name+"")&&te(s,r),h&8&&o!==(o=e[13].value+"")&&te(u,o),h&41&&U(t,"active",e[5][e[0][0]]&&e[5][e[0][0]].includes(e[13].key)),h&8&&U(t,"disabled",e[13].value===0)},d(d){d&&v(t),V=!1,N()}}}function rl(i){let e,t,l=i[0][0]+"",r,s,n,a,o,u,E,V,N,I,d=i[5][i[0][0]]&&ct(),h=i[2]&&ft(i);return{c(){e=k("div"),t=k("div"),r=M(l),s=P(),n=k("div"),d&&d.c(),a=P(),o=k("div"),u=k("i"),E=P(),h&&h.c(),this.h()},l(c){e=$(c,"DIV",{});var g=w(e);t=$(g,"DIV",{class:!0});var y=w(t);r=j(y,l),s=q(y),n=$(y,"DIV",{});var m=w(n);d&&d.l(m),m.forEach(v),a=q(y),o=$(y,"DIV",{class:!0});var C=w(o);u=$(C,"I",{class:!0}),w(u).forEach(v),C.forEach(v),y.forEach(v),E=q(g),h&&h.l(g),g.forEach(v),this.h()},h(){b(u,"class","bi"),U(u,"bi-chevron-down",!i[2]),U(u,"bi-chevron-up",i[2]),b(o,"class","ms-auto"),b(t,"class","title d-flex rounded bg-dark text-white mb-1 p-2")},m(c,g){B(c,e,g),_(e,t),_(t,r),_(t,s),_(t,n),d&&d.m(n,null),_(t,a),_(t,o),_(o,u),_(e,E),h&&h.m(e,null),V=!0,N||(I=[fe(n,"click",i[9]),fe(o,"click",i[6])],N=!0)},p(c,[g]){(!V||g&1)&&l!==(l=c[0][0]+"")&&te(r,l),c[5][c[0][0]]?d||(d=ct(),d.c(),d.m(n,null)):d&&(d.d(1),d=null),g&4&&U(u,"bi-chevron-down",!c[2]),g&4&&U(u,"bi-chevron-up",c[2]),c[2]?h?(h.p(c,g),g&4&&Y(h,1)):(h=ft(c),h.c(),Y(h,1),h.m(e,null)):h&&(ne(),F(h,1,1,()=>{h=null}),ae())},i(c){V||(Y(h),V=!0)},o(c){F(h),V=!1},d(c){c&&v(e),d&&d.d(),h&&h.d(),N=!1,Ft(I)}}}function sl(i,e,t){let l,r,s,n;K(i,Ye,h=>t(1,r=h)),K(i,Ae,h=>t(4,s=h)),K(i,ie,h=>t(5,n=h));let{group:a}=e,o=!1;const u=()=>t(2,o=!o),E=Ne();Rt().domain([1,a[1].top(1)[0].value]).range([4,60]).clamp(!0);function V(h,c,g){E("filterCf",{key:h,dim:c,value:g})}function N(h,c){E("resetCf",{key:h,dim:c})}const I=()=>N(a[0],s.dims.get(a[0])),d=h=>{V(a[0],s.dims.get(a[0]),h.key)};return i.$$set=h=>{"group"in h&&t(0,a=h.group)},i.$$.update=()=>{i.$$.dirty&3&&t(3,l=[...a[1].all()].sort((h,c)=>Oe(r[a[0]].find(g=>g.id===h.key).fields.Name,r[a[0]].find(g=>g.id===c.key).fields.Name)))},[a,r,o,l,s,n,u,V,N,I,d]}class il extends he{constructor(e){super();_e(this,e,sl,rl,me,{group:0})}}function nl(i){let e,t,l,r;return{c(){e=k("div"),t=k("input"),this.h()},l(s){e=$(s,"DIV",{class:!0});var n=w(e);t=$(n,"INPUT",{class:!0,type:!0,placeholder:!0}),n.forEach(v),this.h()},h(){b(t,"class","form-control rounded-pill border-dark"),b(t,"type","text"),b(t,"placeholder","Type to search..."),b(e,"class","w-100")},m(s,n){B(s,e,n),_(e,t),et(t,i[0]),l||(r=[fe(t,"input",i[2]),fe(t,"input",i[3])],l=!0)},p(s,[n]){n&1&&t.value!==s[0]&&et(t,s[0])},i:oe,o:oe,d(s){s&&v(e),l=!1,Ft(r)}}}function al(i,e,t){const l=Ne();let r;function s(){n(r)}function n(u){l("filterCf",{value:u})}function a(){r=this.value,t(0,r)}return[r,s,a,u=>s()]}class ol extends he{constructor(e){super();_e(this,e,al,nl,me,{})}}function dt(i,e,t){const l=i.slice();return l[18]=e[t],l}function ht(i,e,t){const l=i.slice();return l[18]=e[t],l}function _t(i){let e,t;return e=new xt({props:{startYear:i[2],endYear:i[1]}}),e.$on("resetCf",i[9]),e.$on("updateCf",i[10]),{c(){Q(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,r){Z(e,l,r),t=!0},p(l,r){const s={};r&4&&(s.startYear=l[2]),r&2&&(s.endYear=l[1]),e.$set(s)},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function mt(i){let e,t;return e=new ll({props:{group:i[18]}}),e.$on("filterCf",i[12]),e.$on("resetCf",i[13]),{c(){Q(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,r){Z(e,l,r),t=!0},p(l,r){const s={};r&1&&(s.group=l[18]),e.$set(s)},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function vt(i){let e,t;return e=new il({props:{group:i[18]}}),e.$on("filterCf",i[14]),e.$on("resetCf",i[15]),{c(){Q(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,r){Z(e,l,r),t=!0},p(l,r){const s={};r&1&&(s.group=l[18]),e.$set(s)},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function cl(i){let e,t,l,r,s,n,a,o,u,E,V,N,I,d=i[2]&&i[1]&&_t(i);n=new ol({}),n.$on("filterCf",i[11]);let h=i[0],c=[];for(let f=0;f<h.length;f+=1)c[f]=mt(ht(i,h,f));const g=f=>F(c[f],1,1,()=>{c[f]=null});let y=i[0],m=[];for(let f=0;f<y.length;f+=1)m[f]=vt(dt(i,y,f));const C=f=>F(m[f],1,1,()=>{m[f]=null});return{c(){e=k("div"),t=k("div"),l=k("div"),d&&d.c(),r=P(),s=k("div"),Q(n.$$.fragment),a=P(),o=k("div"),u=k("div");for(let f=0;f<c.length;f+=1)c[f].c();E=P(),V=k("div");for(let f=0;f<m.length;f+=1)m[f].c();this.h()},l(f){e=$(f,"DIV",{class:!0});var D=w(e);t=$(D,"DIV",{class:!0});var p=w(t);l=$(p,"DIV",{class:!0});var S=w(l);d&&d.l(S),r=q(S),s=$(S,"DIV",{class:!0});var R=w(s);W(n.$$.fragment,R),R.forEach(v),S.forEach(v),a=q(p),o=$(p,"DIV",{class:!0});var z=w(o);u=$(z,"DIV",{class:!0});var ee=w(u);for(let X=0;X<c.length;X+=1)c[X].l(ee);ee.forEach(v),z.forEach(v),E=q(p),V=$(p,"DIV",{class:!0});var le=w(V);for(let X=0;X<m.length;X+=1)m[X].l(le);le.forEach(v),p.forEach(v),D.forEach(v),this.h()},h(){b(s,"class","ms-auto col-12 col-md-4 mt-3 mt-md-0"),b(l,"class","d-flex align-items-start align-items-md-center flex-column flex-md-row"),b(u,"class","groupsContainer mt-3 d-flex flex-nowrap svelte-1sb5udh"),b(o,"class","overflow-hidden position-relative d-none d-md-flex"),b(V,"class","groupsContainerMobile my-3 d-block d-md-none"),b(t,"class","px-3 px-md-4 pt-4"),b(e,"class","filtersContainer border border-dark rounded my-2 svelte-1sb5udh")},m(f,D){B(f,e,D),_(e,t),_(t,l),d&&d.m(l,null),_(l,r),_(l,s),Z(n,s,null),_(t,a),_(t,o),_(o,u);for(let p=0;p<c.length;p+=1)c[p].m(u,null);_(t,E),_(t,V);for(let p=0;p<m.length;p+=1)m[p].m(V,null);I=!0},p(f,[D]){if(f[2]&&f[1]?d?(d.p(f,D),D&6&&Y(d,1)):(d=_t(f),d.c(),Y(d,1),d.m(l,r)):d&&(ne(),F(d,1,1,()=>{d=null}),ae()),D&137){h=f[0];let p;for(p=0;p<h.length;p+=1){const S=ht(f,h,p);c[p]?(c[p].p(S,D),Y(c[p],1)):(c[p]=mt(S),c[p].c(),Y(c[p],1),c[p].m(u,null))}for(ne(),p=h.length;p<c.length;p+=1)g(p);ae()}if(D&137){y=f[0];let p;for(p=0;p<y.length;p+=1){const S=dt(f,y,p);m[p]?(m[p].p(S,D),Y(m[p],1)):(m[p]=vt(S),m[p].c(),Y(m[p],1),m[p].m(V,null))}for(ne(),p=y.length;p<m.length;p+=1)C(p);ae()}},i(f){if(!I){Y(d),Y(n.$$.fragment,f);for(let D=0;D<h.length;D+=1)Y(c[D]);for(let D=0;D<y.length;D+=1)Y(m[D]);Ie(()=>{N||(N=we(e,Se,{},!0)),N.run(1)}),I=!0}},o(f){F(d),F(n.$$.fragment,f),c=c.filter(Boolean);for(let D=0;D<c.length;D+=1)F(c[D]);m=m.filter(Boolean);for(let D=0;D<m.length;D+=1)F(m[D]);N||(N=we(e,Se,{},!1)),N.run(0),I=!1},d(f){f&&v(e),d&&d.d(),x(n),ye(c,f),ye(m,f),f&&N&&N.end()}}}function fl(i,e,t){let l,r,s,n,a;K(i,Ae,f=>t(8,n=f)),K(i,ie,f=>t(16,a=f));function o(){t(0,l=[...Array.from(n.groups)])}function u(f,D,p){if(!a[f])ie.update(S=>(S[f]=[p],S));else{const S=a[f].findIndex(R=>R===p);ie.update(R=>(S===-1?R[f].push(p):R[f].splice(S,1),R[f].length||delete R[f],R))}a[f]&&a[f].length?D.filterFunction(S=>a[f].includes(S)):D.filterAll(),o()}function E(f){ie.update(D=>(D.years=f.detail,D)),n.dims.get("Start year").filterFunction(D=>D>=f.detail.start),n.dims.get("End year").filterFunction(D=>D<=f.detail.end),o()}function V(f){ie.update(p=>(p.search=f.value,p));const D=new RegExp(f.value,"gi");n.dims.get("search").filterFunction(p=>D.test(p)),o()}function N(){n.dims.get("Start year").filterAll(),n.dims.get("End year").filterAll(),ie.update(f=>(delete f.years,f)),o()}function I(f,D){D.filterAll(),ie.update(p=>(delete p[f],p)),o()}const d=()=>N(),h=f=>E(f),c=f=>V(f.detail),g=f=>u(f.detail.key,f.detail.dim,f.detail.value),y=f=>I(f.detail.key,f.detail.dim),m=f=>u(f.detail.key,f.detail.dim,f.detail.value),C=f=>I(f.detail.key,f.detail.dim);return i.$$.update=()=>{i.$$.dirty&256&&t(0,l=[...Array.from(n.groups)]),i.$$.dirty&256&&t(2,r=n.dims.get("Start year").bottom(1)[0]?n.dims.get("Start year").bottom(1)[0]["Start year"]:null),i.$$.dirty&256&&t(1,s=n.dims.get("End year").top(1)[0]?n.dims.get("End year").top(1)[0]["End year"]:null)},[l,s,r,u,E,V,N,I,n,d,h,c,g,y,m,C]}class ul extends he{constructor(e){super();_e(this,e,fl,cl,me,{})}}function pt(i,e,t){const l=i.slice();return l[4]=e[t][0],l[5]=e[t][1],l}function gt(i,e,t){const l=i.slice();return l[8]=e[t],l}function dl(i){let e,t=i[5].start+"",l,r,s=i[5].end+"",n;return{c(){e=k("span"),l=M(t),r=M(" - "),n=M(s),this.h()},l(a){e=$(a,"SPAN",{class:!0});var o=w(e);l=j(o,t),r=j(o," - "),n=j(o,s),o.forEach(v),this.h()},h(){b(e,"class","badge rounded-pill bg-dark me-1")},m(a,o){B(a,e,o),_(e,l),_(e,r),_(e,n)},p(a,o){o&1&&t!==(t=a[5].start+"")&&te(l,t),o&1&&s!==(s=a[5].end+"")&&te(n,s)},d(a){a&&v(e)}}}function hl(i){let e,t=i[5],l=[];for(let r=0;r<t.length;r+=1)l[r]=kt(gt(i,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ue()},l(r){for(let s=0;s<l.length;s+=1)l[s].l(r);e=ue()},m(r,s){for(let n=0;n<l.length;n+=1)l[n].m(r,s);B(r,e,s)},p(r,s){if(s&3){t=r[5];let n;for(n=0;n<t.length;n+=1){const a=gt(r,t,n);l[n]?l[n].p(a,s):(l[n]=kt(a),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(r){ye(l,r),r&&v(e)}}}function bt(i){let e,t=(i[1][i[4]]&&i[1][i[4]].find(r).fields.Name)+"",l;function r(...s){return i[3](i[8],...s)}return{c(){e=k("span"),l=M(t),this.h()},l(s){e=$(s,"SPAN",{class:!0});var n=w(e);l=j(n,t),n.forEach(v),this.h()},h(){b(e,"class","badge rounded-pill bg-dark me-1")},m(s,n){B(s,e,n),_(e,l)},p(s,n){i=s,n&3&&t!==(t=(i[1][i[4]]&&i[1][i[4]].find(r).fields.Name)+"")&&te(l,t)},d(s){s&&v(e)}}}function kt(i){let e,t=i[8]&&bt(i);return{c(){t&&t.c(),e=ue()},l(l){t&&t.l(l),e=ue()},m(l,r){t&&t.m(l,r),B(l,e,r)},p(l,r){l[8]?t?t.p(l,r):(t=bt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&v(e)}}}function $t(i){let e;function t(s,n){if(s[5]&&s[5].length>0&&s[4]!=="search")return hl;if(s[5]&&s[4]!=="search")return dl}let l=t(i),r=l&&l(i);return{c(){r&&r.c(),e=ue()},l(s){r&&r.l(s),e=ue()},m(s,n){r&&r.m(s,n),B(s,e,n)},p(s,n){l===(l=t(s))&&r?r.p(s,n):(r&&r.d(1),r=l&&l(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r&&r.d(s),s&&v(e)}}}function _l(i){let e,t=i[0],l=[];for(let r=0;r<t.length;r+=1)l[r]=$t(pt(i,t,r));return{c(){e=k("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=$(r,"DIV",{class:!0});var s=w(e);for(let n=0;n<l.length;n+=1)l[n].l(s);s.forEach(v),this.h()},h(){b(e,"class","mt-3 mt-md-0")},m(r,s){B(r,e,s);for(let n=0;n<l.length;n+=1)l[n].m(e,null)},p(r,[s]){if(s&3){t=r[0];let n;for(n=0;n<t.length;n+=1){const a=pt(r,t,n);l[n]?l[n].p(a,s):(l[n]=$t(a),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},i:oe,o:oe,d(r){r&&v(e),ye(l,r)}}}function ml(i,e,t){let l,r,s;K(i,ie,a=>t(2,r=a)),K(i,Ye,a=>t(1,s=a));const n=(a,o)=>o.id===a;return i.$$.update=()=>{i.$$.dirty&4&&t(0,l=[...Object.entries(r)])},[l,s,r,n]}class vl extends he{constructor(e){super();_e(this,e,ml,_l,me,{})}}function pl(i){let e,t;return{c(){e=k("span"),t=M("New"),this.h()},l(l){e=$(l,"SPAN",{class:!0});var r=w(e);t=j(r,"New"),r.forEach(v),this.h()},h(){b(e,"class","new badge bg-light svelte-9qoxcf")},m(l,r){B(l,e,r),_(e,t)},d(l){l&&v(e)}}}function Et(i){let e,t;return e=new Jt({props:{url:i[1],$$slots:{default:[gl]},$$scope:{ctx:i}}}),{c(){Q(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,r){Z(e,l,r),t=!0},p(l,r){const s={};r&2&&(s.url=l[1]),r&35&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function gl(i){let e,t,l;return{c(){e=k("img"),this.h()},l(r){e=$(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){b(e,"class","img-fluid shadow thumb svelte-9qoxcf"),tt(e.src,t=i[1])||b(e,"src",t),b(e,"alt",l=i[0]["Name of collection"])},m(r,s){B(r,e,s)},p(r,s){s&2&&!tt(e.src,t=r[1])&&b(e,"src",t),s&1&&l!==(l=r[0]["Name of collection"])&&b(e,"alt",l)},d(r){r&&v(e)}}}function wt(i){let e,t=i[2].fields.Name+"",l;return{c(){e=k("h6"),l=M(t),this.h()},l(r){e=$(r,"H6",{class:!0});var s=w(e);l=j(s,t),s.forEach(v),this.h()},h(){b(e,"class","fst-italic host svelte-9qoxcf")},m(r,s){B(r,e,s),_(e,l)},p(r,s){s&4&&t!==(t=r[2].fields.Name+"")&&te(l,t)},d(r){r&&v(e)}}}function bl(i){let e,t,l,r,s,n,a,o=i[0]["Name of collection"]+"",u,E,V,N,I,d,h,c=i[3]&&pl(),g=i[1]&&Et(i),y=i[2]&&wt(i);return d=new zt({props:{record:i[0]}}),{c(){e=k("div"),c&&c.c(),t=P(),g&&g.c(),l=P(),r=k("div"),s=k("div"),n=k("h5"),a=k("a"),u=M(o),V=P(),y&&y.c(),N=P(),I=k("div"),Q(d.$$.fragment),this.h()},l(m){e=$(m,"DIV",{class:!0});var C=w(e);c&&c.l(C),t=q(C),g&&g.l(C),l=q(C),r=$(C,"DIV",{class:!0});var f=w(r);s=$(f,"DIV",{class:!0});var D=w(s);n=$(D,"H5",{class:!0});var p=w(n);a=$(p,"A",{class:!0,href:!0});var S=w(a);u=j(S,o),S.forEach(v),p.forEach(v),V=q(D),y&&y.l(D),D.forEach(v),N=q(f),I=$(f,"DIV",{class:!0});var R=w(I);W(d.$$.fragment,R),R.forEach(v),f.forEach(v),C.forEach(v),this.h()},h(){b(a,"class","text-decoration-none text-body"),b(a,"href",E=`${rt}/resource/${i[0].id}`),b(n,"class","title svelte-9qoxcf"),b(s,"class","me-1"),b(I,"class","ms-auto"),b(r,"class","d-flex my-2 w-100"),b(e,"class","h-100 position-relative")},m(m,C){B(m,e,C),c&&c.m(e,null),_(e,t),g&&g.m(e,null),_(e,l),_(e,r),_(r,s),_(s,n),_(n,a),_(a,u),_(s,V),y&&y.m(s,null),_(r,N),_(r,I),Z(d,I,null),h=!0},p(m,[C]){m[1]?g?(g.p(m,C),C&2&&Y(g,1)):(g=Et(m),g.c(),Y(g,1),g.m(e,l)):g&&(ne(),F(g,1,1,()=>{g=null}),ae()),(!h||C&1)&&o!==(o=m[0]["Name of collection"]+"")&&te(u,o),(!h||C&1&&E!==(E=`${rt}/resource/${m[0].id}`))&&b(a,"href",E),m[2]?y?y.p(m,C):(y=wt(m),y.c(),y.m(s,null)):y&&(y.d(1),y=null);const f={};C&1&&(f.record=m[0]),d.$set(f)},i(m){h||(Y(g),Y(d.$$.fragment,m),h=!0)},o(m){F(g),F(d.$$.fragment,m),h=!1},d(m){m&&v(e),c&&c.d(),g&&g.d(),y&&y.d(),x(d)}}}function kl(i,e,t){let l,r;K(i,Ye,o=>t(4,r=o));let{record:s}=e;const n=Pt.count(new Date(s.Created),new Date)<=14;let a;return s.Image&&s.Image.length>0&&(a=s.Image[0].thumbnails.large.url),i.$$set=o=>{"record"in o&&t(0,s=o.record)},i.$$.update=()=>{i.$$.dirty&17&&t(2,l=r["Host institution"]&&r["Host institution"].find(o=>o.id===s["Host institution"][0]))},[s,a,l,n,r]}class $l extends he{constructor(e){super();_e(this,e,kl,bl,me,{record:0})}}function yt(i,e,t){const l=i.slice();return l[1]=e[t],l}function It(i,e){let t,l,r,s;return l=new $l({props:{record:e[1]}}),{key:i,first:null,c(){t=k("div"),Q(l.$$.fragment),r=P(),this.h()},l(n){t=$(n,"DIV",{class:!0});var a=w(t);W(l.$$.fragment,a),r=q(a),a.forEach(v),this.h()},h(){b(t,"class","col-12 col-md-3 my-2"),this.first=t},m(n,a){B(n,t,a),Z(l,t,null),_(t,r),s=!0},p(n,a){e=n;const o={};a&1&&(o.record=e[1]),l.$set(o)},i(n){s||(Y(l.$$.fragment,n),s=!0)},o(n){F(l.$$.fragment,n),s=!1},d(n){n&&v(t),x(l)}}}function El(i){let e=[],t=new Map,l,r,s=i[0];const n=a=>a[1].id;for(let a=0;a<s.length;a+=1){let o=yt(i,s,a),u=n(o);t.set(u,e[a]=It(u,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ue()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);l=ue()},m(a,o){for(let u=0;u<e.length;u+=1)e[u].m(a,o);B(a,l,o),r=!0},p(a,[o]){o&1&&(s=a[0],ne(),e=Le(e,o,n,1,a,s,t,l.parentNode,qt,It,l,yt),ae())},i(a){if(!r){for(let o=0;o<s.length;o+=1)Y(e[o]);r=!0}},o(a){for(let o=0;o<e.length;o+=1)F(e[o]);r=!1},d(a){for(let o=0;o<e.length;o+=1)e[o].d(a);a&&v(l)}}}function wl(i,e,t){let{records:l=[]}=e;return i.$$set=r=>{"records"in r&&t(0,l=r.records)},[l]}class yl extends he{constructor(e){super();_e(this,e,wl,El,me,{records:0})}}function Dt(i,e,t){const l=i.slice();return l[13]=e[t],l}function Vt(i){let e,t;return e=new ul({}),{c(){Q(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,r){Z(e,l,r),t=!0},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Ct(i){let e,t=i[13].label+"",l,r,s;return{c(){e=k("option"),l=M(t),r=P(),this.h()},l(n){e=$(n,"OPTION",{});var a=w(e);l=j(a,t),r=q(a),a.forEach(v),this.h()},h(){e.__value=s=i[13].value,e.value=e.__value},m(n,a){B(n,e,a),_(e,l),_(e,r)},p:oe,d(n){n&&v(e)}}}function Il(i){let e,t,l;return{c(){e=k("div"),t=k("h6"),l=M("No results! Remove some filters"),this.h()},l(r){e=$(r,"DIV",{class:!0});var s=w(e);t=$(s,"H6",{class:!0});var n=w(t);l=j(n,"No results! Remove some filters"),n.forEach(v),s.forEach(v),this.h()},h(){b(t,"class","text-center"),b(e,"class","col-12")},m(r,s){B(r,e,s),_(e,t),_(t,l)},p:oe,i:oe,o:oe,d(r){r&&v(e)}}}function Dl(i){let e,t,l,r;const s=[Cl,Vl],n=[];function a(o,u){return o[6]==="grid"?0:1}return e=a(i),t=n[e]=s[e](i),{c(){t.c(),l=ue()},l(o){t.l(o),l=ue()},m(o,u){n[e].m(o,u),B(o,l,u),r=!0},p(o,u){let E=e;e=a(o),e===E?n[e].p(o,u):(ne(),F(n[E],1,1,()=>{n[E]=null}),ae(),t=n[e],t?t.p(o,u):(t=n[e]=s[e](o),t.c()),Y(t,1),t.m(l.parentNode,l))},i(o){r||(Y(t),r=!0)},o(o){F(t),r=!1},d(o){n[e].d(o),o&&v(l)}}}function Vl(i){let e,t;return e=new Ut({props:{records:i[2]}}),{c(){Q(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,r){Z(e,l,r),t=!0},p(l,r){const s={};r&4&&(s.records=l[2]),e.$set(s)},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Cl(i){let e,t;return e=new yl({props:{records:i[2]}}),{c(){Q(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,r){Z(e,l,r),t=!0},p(l,r){const s={};r&4&&(s.records=l[2]),e.$set(s)},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function St(i){let e,t,l,r,s,n;return{c(){e=k("div"),this.h()},l(a){e=$(a,"DIV",{class:!0}),w(e).forEach(v),this.h()},h(){b(e,"class","overlay position-absolute top-0 left-0 h-100 w-100 bg-dark bg-opacity-50 cursor-pointer svelte-14mg9jm"),U(e,"resourceActive",i[3])},m(a,o){B(a,e,o),r=!0,s||(n=fe(e,"click",i[10]),s=!0)},p(a,o){o&8&&U(e,"resourceActive",a[3])},i(a){r||(Ie(()=>{l&&l.end(1),t=Mt(e,Ot,{delay:300}),t.start()}),r=!0)},o(a){t&&t.invalidate(),l=Bt(e,Nl,{duration:300}),r=!1},d(a){a&&v(e),a&&l&&l.end(),s=!1,n()}}}function Nt(i){let e,t,l,r;return t=new Kt({props:{id:i[3],fromExplore:!0}}),{c(){e=k("div"),Q(t.$$.fragment),this.h()},l(s){e=$(s,"DIV",{class:!0});var n=w(e);W(t.$$.fragment,n),n.forEach(v),this.h()},h(){b(e,"class","wrapperResource flex-shrink-0 flex-grow-0 w-100 border-start border-dark svelte-14mg9jm")},m(s,n){B(s,e,n),Z(t,e,null),r=!0},p(s,n){const a={};n&8&&(a.id=s[3]),t.$set(a)},i(s){r||(Y(t.$$.fragment,s),Ie(()=>{l||(l=we(e,Yt,{duration:300},!0)),l.run(1)}),r=!0)},o(s){F(t.$$.fragment,s),l||(l=we(e,Yt,{duration:300},!1)),l.run(0),r=!1},d(s){s&&v(e),x(t),s&&l&&l.end()}}}function Sl(i){let e,t,l,r,s,n,a,o,u,E,V=i[1].size()+"",N,I,d,h,c,g,y,m,C,f,D,p,S,R,z,ee,le,X,pe,Re,ge,re,se,Fe,De,be,Pe,He,T=i[5]&&Vt(),ke=i[7],J=[];for(let A=0;A<ke.length;A+=1)J[A]=Ct(Dt(i,ke,A));z=new Tt({}),pe=new vl({});const Ge=[Dl,Il],ve=[];function Te(A,L){return A[2].length?0:1}re=Te(i),se=ve[re]=Ge[re](i);let H=i[3]&&St(i),G=i[3]&&Nt(i);return{c(){e=k("div"),t=k("div"),l=k("div"),T&&T.c(),r=P(),s=k("div"),n=k("div"),a=k("p"),o=M("Displaying: "),u=M(i[4]),E=M(" / "),N=M(V),I=M(" collections"),d=P(),h=k("div"),c=k("label"),g=M("Sort by:"),y=P(),m=k("div"),C=k("select");for(let A=0;A<J.length;A+=1)J[A].c();f=P(),D=k("div"),p=k("label"),S=M("View:"),R=P(),Q(z.$$.fragment),ee=P(),le=k("div"),X=k("div"),Q(pe.$$.fragment),Re=P(),ge=k("div"),se.c(),Fe=P(),H&&H.c(),De=P(),G&&G.c(),this.h()},l(A){e=$(A,"DIV",{class:!0});var L=w(e);t=$(L,"DIV",{class:!0});var ce=w(t);l=$(ce,"DIV",{class:!0});var O=w(l);T&&T.l(O),r=q(O),s=$(O,"DIV",{class:!0});var de=w(s);n=$(de,"DIV",{class:!0});var ze=w(n);a=$(ze,"P",{class:!0});var $e=w(a);o=j($e,"Displaying: "),u=j($e,i[4]),E=j($e," / "),N=j($e,V),I=j($e," collections"),$e.forEach(v),ze.forEach(v),d=q(de),h=$(de,"DIV",{class:!0});var Ve=w(h);c=$(Ve,"LABEL",{class:!0,for:!0});var Xe=w(c);g=j(Xe,"Sort by:"),Xe.forEach(v),y=q(Ve),m=$(Ve,"DIV",{class:!0});var Je=w(m);C=$(Je,"SELECT",{id:!0,class:!0});var Ke=w(C);for(let qe=0;qe<J.length;qe+=1)J[qe].l(Ke);Ke.forEach(v),Je.forEach(v),Ve.forEach(v),f=q(de),D=$(de,"DIV",{class:!0});var Ce=w(D);p=$(Ce,"LABEL",{class:!0,for:!0});var Ue=w(p);S=j(Ue,"View:"),Ue.forEach(v),R=q(Ce),W(z.$$.fragment,Ce),Ce.forEach(v),de.forEach(v),ee=q(O),le=$(O,"DIV",{class:!0});var Qe=w(le);X=$(Qe,"DIV",{class:!0});var We=w(X);W(pe.$$.fragment,We),We.forEach(v),Qe.forEach(v),Re=q(O),ge=$(O,"DIV",{class:!0});var Ze=w(ge);se.l(Ze),Ze.forEach(v),O.forEach(v),ce.forEach(v),Fe=q(L),H&&H.l(L),De=q(L),G&&G.l(L),L.forEach(v),this.h()},h(){b(a,"class","my-2 my-md-0 BespokeSerif me-2"),b(n,"class","col-12 col-md-auto"),b(c,"class","col-auto me-2 BespokeSerif"),b(c,"for","sort-select"),b(C,"id","sort-select"),b(C,"class","form-select rounded-pill border-dark"),i[0]===void 0&&Ie(()=>i[9].call(C)),b(m,"class","col-auto"),b(h,"class","col-6 col-md-auto ms-auto d-flex align-items-md-center flex-column flex-md-row"),b(p,"class","col-auto me-2 BespokeSerif"),b(p,"for",""),b(D,"class","d-flex d-md-none col-6 col-md-auto ms-auto d-flex align-items-md-center align-items-end flex-column flex-md-row"),b(s,"class","row align-items-center mt-3"),b(X,"class","col-12"),b(le,"class","row"),b(ge,"class","row mt-2"),b(l,"class","container"),b(t,"class","wrapperChild flex-shrink-0 flex-grow-0 w-100 h-100 position-relative svelte-14mg9jm"),U(t,"resourceActive",i[3]),b(e,"class","wrapper vw-100 d-flex svelte-14mg9jm")},m(A,L){B(A,e,L),_(e,t),_(t,l),T&&T.m(l,null),_(l,r),_(l,s),_(s,n),_(n,a),_(a,o),_(a,u),_(a,E),_(a,N),_(a,I),_(s,d),_(s,h),_(h,c),_(c,g),_(h,y),_(h,m),_(m,C);for(let ce=0;ce<J.length;ce+=1)J[ce].m(C,null);lt(C,i[0]),_(s,f),_(s,D),_(D,p),_(p,S),_(D,R),Z(z,D,null),_(l,ee),_(l,le),_(le,X),Z(pe,X,null),_(l,Re),_(l,ge),ve[re].m(ge,null),_(e,Fe),H&&H.m(e,null),_(e,De),G&&G.m(e,null),be=!0,Pe||(He=fe(C,"change",i[9]),Pe=!0)},p(A,[L]){if(A[5]?T?L&32&&Y(T,1):(T=Vt(),T.c(),Y(T,1),T.m(l,r)):T&&(ne(),F(T,1,1,()=>{T=null}),ae()),(!be||L&16)&&te(u,A[4]),(!be||L&2)&&V!==(V=A[1].size()+"")&&te(N,V),L&128){ke=A[7];let O;for(O=0;O<ke.length;O+=1){const de=Dt(A,ke,O);J[O]?J[O].p(de,L):(J[O]=Ct(de),J[O].c(),J[O].m(C,null))}for(;O<J.length;O+=1)J[O].d(1);J.length=ke.length}L&129&&lt(C,A[0]);let ce=re;re=Te(A),re===ce?ve[re].p(A,L):(ne(),F(ve[ce],1,1,()=>{ve[ce]=null}),ae(),se=ve[re],se?se.p(A,L):(se=ve[re]=Ge[re](A),se.c()),Y(se,1),se.m(ge,null)),L&8&&U(t,"resourceActive",A[3]),A[3]?H?(H.p(A,L),L&8&&Y(H,1)):(H=St(A),H.c(),Y(H,1),H.m(e,De)):H&&(ne(),F(H,1,1,()=>{H=null}),ae()),A[3]?G?(G.p(A,L),L&8&&Y(G,1)):(G=Nt(A),G.c(),Y(G,1),G.m(e,null)):G&&(ne(),F(G,1,1,()=>{G=null}),ae())},i(A){be||(Y(T),Y(z.$$.fragment,A),Y(pe.$$.fragment,A),Y(se),Y(H),Y(G),be=!0)},o(A){F(T),F(z.$$.fragment,A),F(pe.$$.fragment,A),F(se),F(H),F(G),be=!1},d(A){A&&v(e),T&&T.d(),ye(J,A),x(z),x(pe),ve[re].d(),H&&H.d(),G&&G.d(),Pe=!1,He()}}}function Yt(i,{duration:e}){const t=getComputedStyle(i),l=/-?\d+\.?\d*/g,r=t.transform.match(l),n=+r[r.length-2]*-1>=768?70:90;return{duration:e,css:a=>`
					transform: translateX(-${a*n}%);`}}function Nl(i,{duration:e}){const t=getComputedStyle(i),l=/-?\d+\.?\d*/g,r=t.transform.match(l),n=+r[r.length-2]*-1>=768?70:90;return{duration:e,css:a=>`
					transform: translateX(-${a*n}%);opacity: ${a*1};`}}function Yl(i,e,t){let l,r,s,n,a;K(i,Qt,c=>t(11,r=c)),K(i,Ae,c=>t(1,s=c)),K(i,Ht,c=>t(5,n=c)),K(i,Gt,c=>t(6,a=c));const o=[{value:"Created",label:"Most recent"},{value:"Name of collection",label:"Alphabetically"}];let u,E=[];function V(c,g){const y=g.allFiltered()||[];y.sort((m,C)=>c?c==="Created"?jt(m[c],C[c]):Oe(m[c],C[c]):1),t(2,E=[...y])}let N;Xt(async({to:c,cancel:g})=>{if(N)return;const y=c.pathname.split("/");if(y[y.length-2]==="resource"){g();const m=y[y.length-1];t(3,N=m),history.pushState({},"",`${r.url.origin}/resource/${m}`)}});function I(){t(3,N=null),r.url.origin,history.pushState({},"",`${r.url.origin}/explore`)}function d(){u=Lt(this),t(0,u),t(7,o)}const h=()=>I();return i.$$.update=()=>{i.$$.dirty&2&&t(4,l=s.size()),i.$$.dirty&3&&V(u,s),i.$$.dirty&3&&s.onChange(c=>{V(u,s),t(4,l=s.allFiltered().length)})},[u,s,E,N,l,n,a,o,I,d,h]}class Gl extends he{constructor(e){super();_e(this,e,Yl,Sl,me,{})}}export{Gl as default};
