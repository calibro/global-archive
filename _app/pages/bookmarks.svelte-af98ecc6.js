var x=Object.defineProperty;var B=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var C=(a,t,l)=>t in a?x(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,U=(a,t)=>{for(var l in t||(t={}))ee.call(t,l)&&C(a,l,t[l]);if(B)for(var l of B(t))te.call(t,l)&&C(a,l,t[l]);return a};import{S as H,i as O,s as q,l as R,g as v,n as M,o as w,p as P,q as y,d as u,a6 as le,Q as F,e as m,c as p,a as h,b,G as k,H as J,R as K,T as Q,U as z,J as T,t as I,k as W,h as V,m as X,I as L,w as $,x as j,y as A,B as G}from"../chunks/vendor-3cd2b798.js";import{b as oe}from"../chunks/paths-396f020f.js";import{g as se,b as ne}from"../chunks/stores-82a3d97c.js";import{L as re}from"../chunks/ListView-6cbff449.js";import"../chunks/Bookmark-a636b1ca.js";import"../chunks/singletons-d1fb5791.js";function ae(a){let t,l,s,i,c;const n=a[6].default,r=F(n,a,a[5],null);return{c(){t=m("button"),r&&r.c(),l=m("i"),this.h()},l(e){t=p(e,"BUTTON",{class:!0});var o=h(t);r&&r.l(o),l=p(o,"I",{class:!0}),h(l).forEach(u),o.forEach(u),this.h()},h(){b(l,"class","bi bi-file-earmark-arrow-down ms-2"),b(t,"class","btn btn-sm btn-outline-dark")},m(e,o){v(e,t,o),r&&r.m(t,null),k(t,l),s=!0,i||(c=J(t,"click",a[8]),i=!0)},p(e,o){r&&r.p&&(!s||o&32)&&K(r,n,e,e[5],s?z(n,e[5],o,null):Q(e[5]),null)},i(e){s||(y(r,e),s=!0)},o(e){w(r,e),s=!1},d(e){e&&u(t),r&&r.d(e),i=!1,c()}}}function ie(a){let t,l,s,i,c;const n=a[6].default,r=F(n,a,a[5],null);return{c(){t=m("span"),r&&r.c(),l=m("i"),this.h()},l(e){t=p(e,"SPAN",{class:!0});var o=h(t);r&&r.l(o),l=p(o,"I",{class:!0}),h(l).forEach(u),o.forEach(u),this.h()},h(){b(l,"class","bi bi-file-earmark-arrow-down"),b(t,"class","link svelte-k07o89")},m(e,o){v(e,t,o),r&&r.m(t,null),k(t,l),s=!0,i||(c=J(t,"click",a[7]),i=!0)},p(e,o){r&&r.p&&(!s||o&32)&&K(r,n,e,e[5],s?z(n,e[5],o,null):Q(e[5]),null)},i(e){s||(y(r,e),s=!0)},o(e){w(r,e),s=!1},d(e){e&&u(t),r&&r.d(e),i=!1,c()}}}function ce(a){let t,l,s,i;const c=[ie,ae],n=[];function r(e,o){return e[2]==="link"?0:1}return t=r(a),l=n[t]=c[t](a),{c(){l.c(),s=R()},l(e){l.l(e),s=R()},m(e,o){n[t].m(e,o),v(e,s,o),i=!0},p(e,[o]){let f=t;t=r(e),t===f?n[t].p(e,o):(M(),w(n[f],1,1,()=>{n[f]=null}),P(),l=n[t],l?l.p(e,o):(l=n[t]=c[t](e),l.c()),y(l,1),l.m(s.parentNode,s))},i(e){i||(y(l),i=!0)},o(e){w(l),i=!1},d(e){n[t].d(e),e&&u(s)}}}function fe(a,t,l){let{$$slots:s={},$$scope:i}=t,{data:c}=t,{filename:n="filename"}=t,{type:r="link"}=t,{bom:e=2}=t;function o(d,g,N){const E=N?"\uFEFF":"";let D=null;typeof d=="object"?D=le(d):D=d;const Y=new Blob([`${E}${D}`],{type:"text/csv;charset=utf-8;"}),Z=window.URL.createObjectURL(Y),S=document.createElement("a");S.href=Z,S.setAttribute("download",`${g}.csv`),S.click(),S.remove()}const f=()=>o(c,n,e),_=()=>o(c,n,e);return a.$$set=d=>{"data"in d&&l(0,c=d.data),"filename"in d&&l(1,n=d.filename),"type"in d&&l(2,r=d.type),"bom"in d&&l(3,e=d.bom),"$$scope"in d&&l(5,i=d.$$scope)},[c,n,r,e,o,i,s,f,_]}class ue extends H{constructor(t){super();O(this,t,fe,ce,q,{data:0,filename:1,type:2,bom:3})}}function de(a){let t,l,s,i,c,n,r,e,o,f;return{c(){t=m("div"),l=m("div"),s=m("h6"),i=I("No collections bookmarked!"),c=W(),n=m("p"),r=I("Go to "),e=m("a"),o=I("explore"),f=I(" section"),this.h()},l(_){t=p(_,"DIV",{class:!0});var d=h(t);l=p(d,"DIV",{class:!0});var g=h(l);s=p(g,"H6",{class:!0});var N=h(s);i=V(N,"No collections bookmarked!"),N.forEach(u),c=X(g),n=p(g,"P",{class:!0});var E=h(n);r=V(E,"Go to "),e=p(E,"A",{href:!0});var D=h(e);o=V(D,"explore"),D.forEach(u),f=V(E," section"),E.forEach(u),g.forEach(u),d.forEach(u),this.h()},h(){b(s,"class","text-center"),b(e,"href",`${oe}/explore`),b(n,"class","text-center"),b(l,"class","col-12"),b(t,"class","row my-5")},m(_,d){v(_,t,d),k(t,l),k(l,s),k(s,i),k(l,c),k(l,n),k(n,r),k(n,e),k(e,o),k(n,f)},p:L,i:L,o:L,d(_){_&&u(t)}}}function _e(a){let t,l,s,i,c,n,r;return l=new re({props:{records:a[0]}}),n=new ue({props:{type:"button",data:a[1],filename:"global-archive-list.csv",$$slots:{default:[me]},$$scope:{ctx:a}}}),{c(){t=m("div"),$(l.$$.fragment),s=W(),i=m("div"),c=m("div"),$(n.$$.fragment),this.h()},l(e){t=p(e,"DIV",{class:!0});var o=h(t);j(l.$$.fragment,o),o.forEach(u),s=X(e),i=p(e,"DIV",{class:!0});var f=h(i);c=p(f,"DIV",{class:!0});var _=h(c);j(n.$$.fragment,_),_.forEach(u),f.forEach(u),this.h()},h(){b(t,"class","row mt-3"),b(c,"class","col-auto ms-auto"),b(i,"class","row")},m(e,o){v(e,t,o),A(l,t,null),v(e,s,o),v(e,i,o),k(i,c),A(n,c,null),r=!0},p(e,o){const f={};o&1&&(f.records=e[0]),l.$set(f);const _={};o&2&&(_.data=e[1]),o&32&&(_.$$scope={dirty:o,ctx:e}),n.$set(_)},i(e){r||(y(l.$$.fragment,e),y(n.$$.fragment,e),r=!0)},o(e){w(l.$$.fragment,e),w(n.$$.fragment,e),r=!1},d(e){e&&u(t),G(l),e&&u(s),e&&u(i),G(n)}}}function me(a){let t;return{c(){t=I("Export list")},l(l){t=V(l,"Export list")},m(l,s){v(l,t,s)},d(l){l&&u(t)}}}function pe(a){let t,l,s,i;const c=[_e,de],n=[];function r(e,o){return e[0].length?0:1}return l=r(a),s=n[l]=c[l](a),{c(){t=m("div"),s.c(),this.h()},l(e){t=p(e,"DIV",{class:!0});var o=h(t);s.l(o),o.forEach(u),this.h()},h(){b(t,"class","container")},m(e,o){v(e,t,o),n[l].m(t,null),i=!0},p(e,[o]){let f=l;l=r(e),l===f?n[l].p(e,o):(M(),w(n[f],1,1,()=>{n[f]=null}),P(),s=n[l],s?s.p(e,o):(s=n[l]=c[l](e),s.c()),y(s,1),s.m(t,null))},i(e){i||(y(s),i=!0)},o(e){w(s),i=!1},d(e){e&&u(t),n[l].d()}}}function he(a,t,l){let s,i,c,n;T(a,se,e=>l(2,c=e)),T(a,ne,e=>l(3,n=e));const r=["Name of collection","Link to collection","Brief description of collection","End year","Start year","State/Nation","Organisation","Host institution","Keywords","Type of sources","Main language of collection"];return a.$$.update=()=>{a.$$.dirty&8&&l(0,s=n||[]),a.$$.dirty&5&&l(1,i=s.map(e=>{const o=U({},e);for(const f in o)r.includes(f)||delete o[f],c[f]&&o[f]&&(console.log(o[f]),o[f]=c[f].filter(_=>o[f].includes(_.id)).map(_=>_.fields.Name).join(", "));return o})),a.$$.dirty&4&&console.log(c)},[s,i,c,n]}class De extends H{constructor(t){super();O(this,t,he,pe,q,{})}}export{De as default};
