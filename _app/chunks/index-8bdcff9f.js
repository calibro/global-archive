import{S as T,i as U,s as W,e as h,t as y,c as g,a as b,h as A,d as _,b as f,g as C,H as m,w as z,x as J,y as K,q as D,o as V,B as O,j as Q,k as H,m as B,n as X,p as Y,L as x,Z as ee,F as L}from"./vendor-df57af0d.js";import{g as te}from"./stores-2f8c5060.js";import{B as se,I as ae}from"./ImgBg-ec887572.js";import{b as M}from"./paths-396f020f.js";function le(r){let e,l;return{c(){e=h("span"),l=y("New"),this.h()},l(s){e=g(s,"SPAN",{class:!0});var t=b(e);l=A(t,"New"),t.forEach(_),this.h()},h(){f(e,"class","new badge bg-light svelte-9qoxcf")},m(s,t){C(s,e,t),m(e,l)},d(s){s&&_(e)}}}function P(r){let e,l;return e=new ae({props:{url:r[1],$$slots:{default:[re]},$$scope:{ctx:r}}}),{c(){z(e.$$.fragment)},l(s){J(e.$$.fragment,s)},m(s,t){K(e,s,t),l=!0},p(s,t){const a={};t&2&&(a.url=s[1]),t&35&&(a.$$scope={dirty:t,ctx:s}),e.$set(a)},i(s){l||(D(e.$$.fragment,s),l=!0)},o(s){V(e.$$.fragment,s),l=!1},d(s){O(e,s)}}}function re(r){let e,l,s;return{c(){e=h("img"),this.h()},l(t){e=g(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){f(e,"class","img-fluid shadow thumb svelte-9qoxcf"),L(e.src,l=r[1])||f(e,"src",l),f(e,"alt",s=r[0]["Name of collection"])},m(t,a){C(t,e,a)},p(t,a){a&2&&!L(e.src,l=t[1])&&f(e,"src",l),a&1&&s!==(s=t[0]["Name of collection"])&&f(e,"alt",s)},d(t){t&&_(e)}}}function Z(r){let e,l=r[2].fields.Name+"",s;return{c(){e=h("h6"),s=y(l),this.h()},l(t){e=g(t,"H6",{class:!0});var a=b(e);s=A(a,l),a.forEach(_),this.h()},h(){f(e,"class","fst-italic host svelte-9qoxcf")},m(t,a){C(t,e,a),m(e,s)},p(t,a){a&4&&l!==(l=t[2].fields.Name+"")&&Q(s,l)},d(t){t&&_(e)}}}function oe(r){let e,l,s,t,a,p,d,u=r[0]["Name of collection"]+"",N,E,R,S,w,v,I,$=r[3]&&le(),o=r[1]&&P(r),n=r[2]&&Z(r);return v=new se({props:{record:r[0]}}),{c(){e=h("div"),$&&$.c(),l=H(),o&&o.c(),s=H(),t=h("div"),a=h("div"),p=h("h5"),d=h("a"),N=y(u),R=H(),n&&n.c(),S=H(),w=h("div"),z(v.$$.fragment),this.h()},l(i){e=g(i,"DIV",{class:!0});var c=b(e);$&&$.l(c),l=B(c),o&&o.l(c),s=B(c),t=g(c,"DIV",{class:!0});var k=b(t);a=g(k,"DIV",{class:!0});var q=b(a);p=g(q,"H5",{class:!0});var j=b(p);d=g(j,"A",{class:!0,href:!0});var F=b(d);N=A(F,u),F.forEach(_),j.forEach(_),R=B(q),n&&n.l(q),q.forEach(_),S=B(k),w=g(k,"DIV",{class:!0});var G=b(w);J(v.$$.fragment,G),G.forEach(_),k.forEach(_),c.forEach(_),this.h()},h(){f(d,"class","text-decoration-none text-body"),f(d,"href",E=`${M}/resource/${r[0].id}`),f(p,"class","title svelte-9qoxcf"),f(a,"class","me-1"),f(w,"class","ms-auto"),f(t,"class","d-flex my-2 w-100"),f(e,"class","h-100 position-relative")},m(i,c){C(i,e,c),$&&$.m(e,null),m(e,l),o&&o.m(e,null),m(e,s),m(e,t),m(t,a),m(a,p),m(p,d),m(d,N),m(a,R),n&&n.m(a,null),m(t,S),m(t,w),K(v,w,null),I=!0},p(i,[c]){i[1]?o?(o.p(i,c),c&2&&D(o,1)):(o=P(i),o.c(),D(o,1),o.m(e,s)):o&&(X(),V(o,1,1,()=>{o=null}),Y()),(!I||c&1)&&u!==(u=i[0]["Name of collection"]+"")&&Q(N,u),(!I||c&1&&E!==(E=`${M}/resource/${i[0].id}`))&&f(d,"href",E),i[2]?n?n.p(i,c):(n=Z(i),n.c(),n.m(a,null)):n&&(n.d(1),n=null);const k={};c&1&&(k.record=i[0]),v.$set(k)},i(i){I||(D(o),D(v.$$.fragment,i),I=!0)},o(i){V(o),V(v.$$.fragment,i),I=!1},d(i){i&&_(e),$&&$.d(),o&&o.d(),n&&n.d(),O(v)}}}function ie(r,e,l){let s,t;x(r,te,u=>l(4,t=u));let{record:a}=e;const p=ee.count(new Date(a.Created),new Date)<=14;let d;return a.Image&&a.Image.length>0&&(d=a.Image[0].thumbnails.large.url),r.$$set=u=>{"record"in u&&l(0,a=u.record)},r.$$.update=()=>{r.$$.dirty&17&&l(2,s=t["Host institution"]&&t["Host institution"].find(u=>u.id===a["Host institution"][0]))},[a,d,s,p,t]}class me extends T{constructor(e){super();U(this,e,ie,oe,W,{record:0})}}export{me as R};
